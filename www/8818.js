"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[8818],{8818:(Y,u,r)=>{r.r(u),r.d(u,{SaveIssueResponsePageModule:()=>H});var c=r(8583),m=r(665),l=r(7823),_=r(649),h=r(4762),v=r(2010),x=r(8834),e=r(639),S=r(4267),C=r(763),y=r(4714),I=r(3037),b=r(3220),E=r(138);function P(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"ion-col",41),e.\u0275\u0275elementStart(1,"div",42),e.\u0275\u0275element(2,"img",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&s){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("src",t,e.\u0275\u0275sanitizeUrl)}}function A(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275text(1,"Action points not added"),e.\u0275\u0275elementEnd()),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",t.is_add_a_point?"opacity2 font-size-input textfont":"opacity1 font-size-input textfont")}}function k(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-icon",57),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).index;return e.\u0275\u0275nextContext(2).changeStatus(i,"true")}),e.\u0275\u0275elementEnd()}}function M(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-icon",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).index;return e.\u0275\u0275nextContext(2).changeStatus(i,"false")}),e.\u0275\u0275elementEnd()}}function T(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,k,1,0,"ion-icon",55),e.\u0275\u0275template(2,M,1,0,"ion-icon",56),e.\u0275\u0275elementEnd()),2&s){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","false"==n.action_points_check[t]),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","true"==n.action_points_check[t])}}function R(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",49),e.\u0275\u0275elementStart(1,"ion-icon",59),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().index;return e.\u0275\u0275nextContext(2).deleteActionPoint(i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function w(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",47),e.\u0275\u0275elementStart(1,"div",48),e.\u0275\u0275elementStart(2,"div",49),e.\u0275\u0275template(3,T,3,2,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",50),e.\u0275\u0275elementStart(5,"span",51),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",52),e.\u0275\u0275elementStart(8,"ion-label",53),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=o.index,a=e.\u0275\u0275nextContext(2);return a.OpenEmpList(i,a.action_points_assign[i])}),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,R,2,0,"div",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&s){const t=o.$implicit,n=o.index,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.isAllowToChange(i.action_points_assign[n])),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.getUserName(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.is_delete_enable)}}function D(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"div",45),e.\u0275\u0275template(1,w,11,4,"div",46),e.\u0275\u0275elementEnd()),2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",t.is_add_a_point?"opacity2":"opacity1"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.actionpoints_list)}}function O(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-label",66),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).calendarModal()}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&s){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.due_date," ")}}function F(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-label",67),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).calendarModal()}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&s){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.due_date," ")}}function U(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",60),e.\u0275\u0275elementStart(2,"div",61),e.\u0275\u0275elementStart(3,"ion-input",62),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().assign_name=i}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",63),e.\u0275\u0275template(5,O,2,1,"ion-label",64),e.\u0275\u0275template(6,F,2,1,"ion-label",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&s){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.is_Check_Action_P?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.assign_name)("disabled",t.is_Check_Action_P),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.is_Check_Action_P?"opacity2 font-size-input textfont":"opacity1 font-size-input textfont"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Add Due Date"==t.due_date),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Add Due Date"!=t.due_date)}}function z(s,o){if(1&s&&(e.\u0275\u0275elementStart(0,"ion-col",41),e.\u0275\u0275elementStart(1,"div",42),e.\u0275\u0275element(2,"img",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&s){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("src",t,e.\u0275\u0275sanitizeUrl)}}function L(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().saveResponse()}),e.\u0275\u0275text(1," Update "),e.\u0275\u0275elementEnd()}}function V(s,o){if(1&s){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeIssue()}),e.\u0275\u0275text(1," Close "),e.\u0275\u0275elementEnd()}}const j=[{path:"",component:(()=>{class s{constructor(t,n,i,a,d,p,g,f,G,J,$,W){this.camera=t,this.activatedRoute=n,this.router=i,this.modalCtrl=a,this.updateStatus=d,this.restApi=p,this.appConstant=g,this.actionSheetController=f,this.modalController=G,this.fileUploadService=J,this.file=$,this.platform=W,this.des_ica="",this.des_uc="",this.root_c="",this.images_ip=[],this.images_cl=[],this.action_point="",this.actionpoints_list=[],this.action_points_check=[],this.action_points_assign=[],this.action_points_assign_name=[],this.is_disable="disable",this.isCheckedAR=!1,this.due_date="Add Due Date",this.assign_name="",this.type="list",this.btnTitle="Save",this.is_in_progress=!0,this.is_add_a_point=!1,this.is_severity_high=!0,this.is_add_rc=!1,this.is_delete_enable=!1,this.is_Check_Action_P=!1,this.finalDueDate="",this.selected_images_ip=[],this.base64Image="",this.selected_images_cl=[],this.imgBlobIP=[],this.imgBlobClose=[],this.inc_id=this.activatedRoute.snapshot.paramMap.get("inc_id"),this.status=this.activatedRoute.snapshot.paramMap.get("status"),this.role=this.activatedRoute.snapshot.paramMap.get("role"),this.rsponseDetails=JSON.parse(this.activatedRoute.snapshot.paramMap.get("rsponseDetails")),this.is_s_plant_admin=this.activatedRoute.snapshot.paramMap.get("is_s_plant_admin"),this.severity=this.activatedRoute.snapshot.paramMap.get("severity");try{this.type=this.activatedRoute.snapshot.paramMap.get("type")}catch(K){this.type="list"}console.log(this.rsponseDetails)}getUserName(t){return this.action_points_assign_name[t]}OpenEmpList(t,n){return(0,h.__awaiter)(this,void 0,void 0,function*(){if(this.is_delete_enable){const i=yield this.modalController.create({component:v.E,cssClass:"modal-custom-css",componentProps:{emplist:this.emp_list,selected_id:n,is_emplist:!0}});return i.onDidDismiss().then(a=>{this.action_points_assign[t]=a.data,this.emp_list.forEach(d=>{if(d.id==a.data){this.action_points_assign_name[t]=d.emp_name;let p=this.loadFinalActionPoints();this.editAction(p,this.inc_id,"add")}})}),yield i.present()}})}isAllowToChange(t){return t==localStorage.getItem(this.appConstant.TAG_IS_USER_ID)||"plantsadmin"==this.appConstant.getUserType()}AddPonit(){this.is_add_a_point||this.action_point.length>1&&(this.actionpoints_list.push(this.action_point),this.action_points_check.push("false"),this.action_points_assign.push(localStorage.getItem(this.appConstant.TAG_IS_USER_ID)),this.action_points_assign_name.push("Assign user"),this.action_point=""),this.loadFinalActionPoints()}ngOnInit(){"In Progress"==this.status?(this.btnTitle="Save",this.is_in_progress=!1):"High"==this.severity?(this.btnTitle="plantsadmin"==this.appConstant.getUserType()?"Update":"none",this.is_in_progress=!0):(this.btnTitle="Update",this.is_in_progress=!0),this.is_add_a_point="true"!=this.is_s_plant_admin,this.is_add_rc="High"!=this.severity,this.is_Check_Action_P=!(!this.is_in_progress&&"High"==this.severity);try{this.des_ica=null==this.rsponseDetails.imc_action?"":this.rsponseDetails.imc_action,this.des_uc=null==this.rsponseDetails.underlying_cause?"":this.rsponseDetails.underlying_cause,this.root_c=null==this.rsponseDetails.root_cause?"":this.rsponseDetails.root_cause;let n=this.rsponseDetails.action_points.split("~");this.actionpoints_list=n[1].split(","),this.action_points_check=n[0].split(","),this.action_points_assign=n[2].split(",")}catch(t){}this.is_delete_enable="plantsadmin"==this.appConstant.getUserType();try{null!=this.rsponseDetails.assigned_to&&""!=this.rsponseDetails.assigned_to||null!=this.rsponseDetails.due_date&&""!=this.rsponseDetails.due_date?(this.isCheckedAR=!0,this.due_date=this.rsponseDetails.due_date,this.finalDueDate=this.rsponseDetails.due_date,this.assign_name=this.rsponseDetails.assigned_to):(this.isCheckedAR=!1,this.due_date="Add Due Date",this.assign_name="",this.finalDueDate="")}catch(t){}this.loadEMPList()}pickImagePA(t){this.camera.getPicture({quality:20,sourceType:t,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(i=>{if(this.base64Image="",this.platform.is("ios")){let a=i.substring(i.lastIndexOf("/")+1),d=i.substring(0,i.lastIndexOf("/")+1);this.file.readAsDataURL(d,a).then(p=>{this.base64Image=p,this.selected_images_ip.push(this.base64Image)})}else this.base64Image=window.Ionic.WebView.convertFileSrc(i),this.selected_images_ip.push(this.base64Image);this.images_ip.push(i)},i=>{})}pickImageOR(t){this.camera.getPicture({quality:20,sourceType:t,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(i=>{if(this.base64Image="",this.platform.is("ios")){let a=i.substring(i.lastIndexOf("/")+1),d=i.substring(0,i.lastIndexOf("/")+1);this.file.readAsDataURL(d,a).then(p=>{this.base64Image=p,this.selected_images_cl.push(this.base64Image)})}else this.base64Image=window.Ionic.WebView.convertFileSrc(i),this.selected_images_cl.push(this.base64Image);this.images_cl.push(i)},i=>{})}onChangeAR(t){(this.isCheckedAR=t.detail.checked)?(this.isCheckedAR=!0,this.due_date="Add Due Date",this.finalDueDate="",this.assign_name=""):(this.isCheckedAR=!1,this.due_date="Add Due Date",this.finalDueDate="",this.assign_name="")}calendarModal(){return(0,h.__awaiter)(this,void 0,void 0,function*(){if(!this.is_Check_Action_P){const t={pickMode:"single",from:new Date,to:new Date(2030,0,1),title:"Date",color:"secondary",closeLabel:"Cancel",doneLabel:"Done",defaultScrollTo:new Date};let n=yield this.modalCtrl.create({component:x.CalendarModal,componentProps:{options:t}});n.present();const a=(yield n.onDidDismiss()).data;null!=a&&(this.finalDueDate=a.string,this.due_date=a.string)}})}selectPlantAdminImage(){return(0,h.__awaiter)(this,void 0,void 0,function*(){this.is_in_progress||(yield(yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImagePA(this.camera.PictureSourceType.SAVEDPHOTOALBUM)}},{text:"Use Camera",handler:()=>{this.pickImagePA(this.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]})).present())})}selectOrgAdminImage(){return(0,h.__awaiter)(this,void 0,void 0,function*(){this.is_in_progress&&(yield(yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImageOR(this.camera.PictureSourceType.SAVEDPHOTOALBUM)}},{text:"Use Camera",handler:()=>{this.pickImageOR(this.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]})).present())})}goBack(){localStorage.setItem("dataUpdateStatus","0"),this.updateStatus.updateStatusState.next(!1),this.router.navigate(["/inc-response",{id:this.inc_id,status:this.status,type:this.type}])}saveResponse(){if("In Progress"==this.status){if(this.des_ica.trim().length<1)return void this.appConstant.toastMsg("Add Immediate Containment Action.");if(this.des_uc.trim().length<1)return void this.appConstant.toastMsg("Underlying cause is a required field.");if(this.isCheckedAR){if(this.assign_name.trim().length<1)return void this.appConstant.toastMsg("Assign Name is a required field.");if(this.finalDueDate.length<1)return void this.appConstant.toastMsg("Due Date is a required field.")}if("High"==this.severity&&this.root_c.trim().length<1)return void this.appConstant.toastMsg("Add Root Cause.")}let n={action_points:this.loadFinalActionPoints(),assigned_to:this.assign_name,due_date:this.finalDueDate,id:this.inc_id,imc_action:this.des_ica,root_cause:this.root_c,underlying_cause:this.des_uc};this.checkNotAssignUser()?this.appConstant.toastMsg("Assgin User to Actiion point"):this.restApi.saveINCStatus(n).then(i=>{this.uploadImagesIP(i.insertid)},i=>{this.appConstant.handleApiError(i)})}checkNotAssignUser(){return this.action_points_assign.join(",").includes(localStorage.getItem(this.appConstant.TAG_IS_USER_ID))}closeIssue(){let t=!1;t="High"!=this.severity||!this.action_points_check.includes("false"),t?this.restApi.closeIssue({id:this.inc_id}).then(i=>{this.uploadImagesCL(i.insertid)},i=>{this.appConstant.handleApiError(i)}):this.appConstant.toastMsg("Action points not completed")}loadEMPList(){let t={searchText:"",sortby:"id",sorttype:"desc",page:0,whereData:[{field:"`employee`.`plant_ref_id`",value:this.appConstant.getPlantId(),type:"AND",nested:""},{field:"`employee`.`emp_type_ref_id`",value:"0",type:"AND",nested:"("},{field:"`employee`.`emp_type_ref_id`",value:"2",type:"OR",nested:")"}]};this.restApi.getNodeEMPList(t).then(n=>{this.emp_list=n.data,this.action_points_assign.forEach(i=>{this.emp_list.forEach(a=>{a.id==i&&this.action_points_assign_name.push(a.emp_name)})})},n=>{this.appConstant.handleApiError(n)})}deleteActionPoint(t){this.action_points_check.splice(t,1),this.actionpoints_list.splice(t,1),this.action_points_assign.splice(t,1);let n=this.loadFinalActionPoints();this.editAction(n,this.inc_id,"remove")}loadFinalActionPoints(){return this.action_points_check.join(",")+"~"+this.actionpoints_list.join(",")+"~"+this.action_points_assign.join(",")}editAction(t,n,i){this.restApi.saveNEditAPoints({action_points:t,id:n,type:i}).then(d=>{},d=>{this.appConstant.handleApiError(d)})}changeStatus(t,n){if(localStorage.getItem(this.appConstant.TAG_IS_USER_ID)==this.action_points_assign[t]){this.action_points_check.splice(t,1,n);let i=this.action_points_check.join(",")+"~"+this.actionpoints_list.join(",")+"~"+this.action_points_assign.join(",");this.changeActionPStatus(i)}}changeActionPStatus(t){this.restApi.changeActionStatus({action_points:t,incId:this.inc_id}).then(i=>{},i=>{this.appConstant.handleApiError(i)})}uploadImagesIP(t){if(this.appConstant.showLoading("Updating status. Please wait..."),this.images_ip.length>0){let n=1;this.images_ip.forEach(i=>{this.file.resolveLocalFilesystemUrl(i).then(a=>{a.file(d=>{const p=new FileReader;p.onload=()=>{let g=new Blob([p.result],{type:d.type});this.imgBlobIP.push(g),n==this.images_ip.length&&this.fileUploadService.uploadImagesPL_api(t,1,this.imgBlobIP,this.appConstant.getUserType()).subscribe(f=>{}),n++},p.readAsArrayBuffer(d)})})}),setTimeout(()=>{this.appConstant.dismissLoading(),this.appConstant.toastMsg("Status updated successfully."),localStorage.setItem("dataUpdateStatus","1"),this.updateStatus.updateStatusState.next(!0),this.router.navigate(["/inc-response",{id:this.inc_id,status:this.status,type:this.type}])},2e3)}else setTimeout(()=>{this.appConstant.dismissLoading(),this.appConstant.toastMsg("Status updated successfully."),localStorage.setItem("dataUpdateStatus","1"),this.updateStatus.updateStatusState.next(!0),this.router.navigate(["/inc-response",{id:this.inc_id,status:this.status,type:this.type}])},2e3)}uploadImagesCL(t){if(this.appConstant.showLoading("Updating status. Please wait..."),this.images_cl.length>0){let n=1;this.images_cl.forEach(i=>{this.file.resolveLocalFilesystemUrl(i).then(a=>{a.file(d=>{const p=new FileReader;p.onload=()=>{this.imgBlobClose.push(new Blob([p.result],{type:d.type})),n==this.images_cl.length&&this.fileUploadService.uploadImagesCL_api(t,1,this.imgBlobClose,this.appConstant.getUserType()).subscribe(g=>{}),n++},p.readAsArrayBuffer(d)})})}),setTimeout(()=>{this.appConstant.dismissLoading(),this.appConstant.toastMsg("Status updated successfully."),localStorage.setItem("dataUpdateStatus","1"),this.updateStatus.updateStatusState.next(!0),this.router.navigate(["/inc-response",{id:this.inc_id,status:this.status,type:this.type}])},2e3)}else setTimeout(()=>{this.appConstant.dismissLoading(),this.appConstant.toastMsg("Status updated successfully."),localStorage.setItem("dataUpdateStatus","1"),this.updateStatus.updateStatusState.next(!0),this.router.navigate(["/inc-response",{id:this.inc_id,status:this.status,type:this.type}])},2e3)}}return s.\u0275fac=function(t){return new(t||s)(e.\u0275\u0275directiveInject(S.V1),e.\u0275\u0275directiveInject(_.gz),e.\u0275\u0275directiveInject(_.F0),e.\u0275\u0275directiveInject(l.ModalController),e.\u0275\u0275directiveInject(C.Y),e.\u0275\u0275directiveInject(y.e),e.\u0275\u0275directiveInject(I.Z),e.\u0275\u0275directiveInject(l.ActionSheetController),e.\u0275\u0275directiveInject(l.ModalController),e.\u0275\u0275directiveInject(b.J),e.\u0275\u0275directiveInject(E.$),e.\u0275\u0275directiveInject(l.Platform))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["app-save-issue-response"]],decls:71,vars:22,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],["slot","end"],[2,"width","100% !important"],[1,"text-color-primary","font-size-heading","headingFont",2,"margin-top","10px !important","margin-left","20px !important"],[2,"width","100% !important","padding-left","30px !important","padding-right","30px !important"],["placeholder","Enter detail description of issue","name","des_ica","autocomplete","on","autocorrect","on","rows","5","mode","md",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"padding","5px !important",3,"ngModel","ngModelChange"],[1,"text-color-primary","font-size-heading","headingFont",2,"margin-top","20px !important","margin-left","20px !important"],["placeholder","Enter detail description of issue","name","des_uc","autocomplete","on","autocorrect","on","rows","5","mode","md",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"padding","5px !important",3,"ngModel","ngModelChange"],[1,"margin10",3,"ngClass"],[2,"display","flex","width","100%","padding-left","10px !important","margin-top","20px"],[2,"display","flex","width","85%"],[1,"text-color-primary","marginLeft","font-size-heading","headingFont"],[2,"display","flex","width","15%"],["src","/assets/imgs/add.png",2,"width","30px","height","30px",3,"click"],[2,"overflow-x","scroll","padding-bottom","16px","padding-top","10px"],[2,"display","flex","text-transform","uppercase"],[2,"padding-bottom","20px","width","100%"],[2,"margin","4px !important"],["class","thumbnail","size","4",4,"ngFor","ngForOf"],[2,"width","100% !important",3,"ngClass"],[1,"text-color-primary","font-size-heading","headingFont",2,"margin-top","40px !important","margin-left","20px !important"],["placeholder","Enter detail description of issue","name","root_c","autocomplete","on","autocorrect","on","rows","6","mode","md",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-top","30px !important","padding","10px !important",3,"ngModel","disabled","ngModelChange"],[2,"margin-top","40px !important","margin-left","20px !important",3,"ngClass"],["style","margin-left: 30px;",3,"ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[2,"width","100% !important","padding-left","30px !important","display","flex !important","margin-top","20px !important",3,"ngClass"],[2,"width","80% !important"],["autocomplete","off","mode","md","type","text","placeholder","Add action","name","action_point","required","",1,"font-size-input","textfont",2,"border","1px solid rgb(212, 212, 212)","border-radius","10px",3,"ngModel","disabled","ngModelChange"],[2,"width","20% !important","text-align","center","justify-content","center","margin-top","13px",3,"ngClass"],["mode","md","slot","end",1,"addBtnCss",3,"click"],[2,"display","flex","margin-top","40px","margin-left","10px"],["mode","md",2,"--background-checked","#E9CD00","--border-color-checked","#E9CD00",3,"disabled","checked","ionChange"],[2,"margin","0px 0px 0px 10px"],[4,"ngIf"],[1,"ion-no-border",2,"background-color","#455A64 !important"],["fill","clear","expand","full","style","color: #fff !important;",3,"click",4,"ngIf"],["size","4",1,"thumbnail"],[2,"width","100% !important","height","120px","padding","4px","border","1px solid #ccc","border-radius","10px"],["alt","","onerror","this.onerror=null;this.src='assets/imgs/n-i2.png';",1,"user-profile-img",2,"width","100% !important","height","100%","border-radius","20px","object-fit","cover",3,"src"],[2,"margin-left","30px",3,"ngClass"],[3,"ngClass"],["style","width: 100% !important;padding-left: 30px !important;",4,"ngFor","ngForOf"],[2,"width","100% !important","padding-left","30px !important"],[2,"display","flex","width","100%"],[2,"width","10%"],[2,"width","50%","padding-top","7px","padding-left","5px"],[1,"font-size-input","textfont",2,"margin-top","6px"],[2,"width","30%","padding-top","7px","text-align","center"],[1,"font-size-input","textfont",3,"click"],["style","width: 10%;",4,"ngIf"],["name","checkmark-circle-outline","style","font-size: 30px !important;margin: 4px;color:#ccc;",3,"click",4,"ngIf"],["name","checkmark-circle-outline","style","font-size: 30px !important;margin: 4px;color:#28c3cb;",3,"click",4,"ngIf"],["name","checkmark-circle-outline",2,"font-size","30px !important","margin","4px","color","#ccc",3,"click"],["name","checkmark-circle-outline",2,"font-size","30px !important","margin","4px","color","#28c3cb",3,"click"],["name","trash-outline",2,"font-size","24px !important","margin","4px","color","rgb(241, 8, 8)",3,"click"],[2,"width","100% !important","padding-left","10px !important","display","flex !important","margin-top","20px !important",3,"ngClass"],[2,"width","50% !important"],["autocomplete","off","mode","md","type","text","placeholder","Add Assign to Name","name","assign_name","required","",1,"font-size-input","textfont",2,"border","1px solid rgb(212, 212, 212)","border-radius","10px",3,"ngModel","disabled","ngModelChange"],[2,"width","50% !important","margin-left","10px","padding","15px","border","1px solid rgb(212, 212, 212)","border-radius","10px",3,"ngClass"],["mode","md","slot","end","style","color: #828282 !important;",3,"click",4,"ngIf"],["mode","md","slot","end","style","color: #000 !important;",3,"click",4,"ngIf"],["mode","md","slot","end",2,"color","#828282 !important",3,"click"],["mode","md","slot","end",2,"color","#000 !important",3,"click"],["fill","clear","expand","full",2,"color","#fff !important",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.goBack()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-title",4),e.\u0275\u0275elementStart(6,"p",5),e.\u0275\u0275text(7,"Issue Response "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-buttons",6),e.\u0275\u0275element(9,"div"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-content"),e.\u0275\u0275elementStart(11,"div",7),e.\u0275\u0275elementStart(12,"p",8),e.\u0275\u0275text(13,"Immediate Containment Action"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",9),e.\u0275\u0275elementStart(15,"ion-textarea",10),e.\u0275\u0275listener("ngModelChange",function(a){return n.des_ica=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",7),e.\u0275\u0275elementStart(17,"p",11),e.\u0275\u0275text(18,"Underlying Cause"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",9),e.\u0275\u0275elementStart(20,"ion-textarea",12),e.\u0275\u0275listener("ngModelChange",function(a){return n.des_uc=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",13),e.\u0275\u0275elementStart(22,"div",14),e.\u0275\u0275elementStart(23,"div",15),e.\u0275\u0275elementStart(24,"span",16),e.\u0275\u0275text(25," Upload Images "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",17),e.\u0275\u0275elementStart(27,"img",18),e.\u0275\u0275listener("click",function(){return n.selectPlantAdminImage()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",19),e.\u0275\u0275elementStart(29,"div",20),e.\u0275\u0275elementStart(30,"ion-list",21),e.\u0275\u0275elementStart(31,"ion-row",22),e.\u0275\u0275template(32,P,3,1,"ion-col",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div"),e.\u0275\u0275elementStart(34,"div",24),e.\u0275\u0275elementStart(35,"p",25),e.\u0275\u0275text(36,"Root Cause"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",9),e.\u0275\u0275elementStart(38,"ion-textarea",26),e.\u0275\u0275listener("ngModelChange",function(a){return n.root_c=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",7),e.\u0275\u0275elementStart(40,"p",27),e.\u0275\u0275text(41,"Action Points"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,A,2,1,"div",28),e.\u0275\u0275template(43,D,2,2,"div",29),e.\u0275\u0275elementStart(44,"div",30),e.\u0275\u0275elementStart(45,"div",31),e.\u0275\u0275elementStart(46,"ion-input",32),e.\u0275\u0275listener("ngModelChange",function(a){return n.action_point=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",33),e.\u0275\u0275elementStart(48,"ion-label",34),e.\u0275\u0275listener("click",function(){return n.AddPonit()}),e.\u0275\u0275text(49," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",13),e.\u0275\u0275elementStart(51,"div",35),e.\u0275\u0275elementStart(52,"ion-checkbox",36),e.\u0275\u0275listener("ionChange",function(a){return n.onChangeAR(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"p",37),e.\u0275\u0275text(54,"Approval Required"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,U,7,6,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"div",13),e.\u0275\u0275elementStart(57,"div",14),e.\u0275\u0275elementStart(58,"div",15),e.\u0275\u0275elementStart(59,"span",16),e.\u0275\u0275text(60," Upload Images "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"div",17),e.\u0275\u0275elementStart(62,"img",18),e.\u0275\u0275listener("click",function(){return n.selectOrgAdminImage()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"div",19),e.\u0275\u0275elementStart(64,"div",20),e.\u0275\u0275elementStart(65,"ion-list",21),e.\u0275\u0275elementStart(66,"ion-row",22),e.\u0275\u0275template(67,z,3,1,"ion-col",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"ion-footer",39),e.\u0275\u0275template(69,L,2,0,"ion-button",40),e.\u0275\u0275template(70,V,2,0,"ion-button",40),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(15),e.\u0275\u0275property("ngModel",n.des_ica),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",n.des_uc),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.is_in_progress?"opacity2":"opacity1"),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",n.selected_images_ip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",n.is_add_rc?"opacity2":"opacity1"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.root_c)("disabled",n.is_add_rc),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",n.is_add_a_point?"opacity2 text-color-primary font-size-heading headingFont":"opacity1 text-color-primary font-size-heading headingFont"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1>n.actionpoints_list.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.actionpoints_list.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.is_add_a_point?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.action_point)("disabled",n.is_add_a_point),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.is_add_a_point?"opacity2":"opacity1"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",n.is_Check_Action_P?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("checked",n.isCheckedAR),e.\u0275\u0275property("disabled",n.is_Check_Action_P),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.isCheckedAR),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.is_in_progress?"opacity1":"opacity2"),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",n.selected_images_cl),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Save"==n.btnTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Update"==n.btnTitle))},directives:[l.IonHeader,l.IonToolbar,l.IonButtons,l.IonButton,l.IonIcon,l.IonTitle,l.IonContent,l.IonTextarea,l.TextValueAccessor,m.NgControlStatus,m.NgModel,c.NgClass,l.IonList,l.IonRow,c.NgForOf,c.NgIf,l.IonInput,m.RequiredValidator,l.IonLabel,l.IonCheckbox,l.BooleanValueAccessor,l.IonFooter,l.IonCol],styles:['.addBtnCss[_ngcontent-%COMP%]{padding:5px 10px!important;border-radius:5px!important;border:1px solid #EE6C6C;background:#FEF1F0!important;color:#ee6c6c!important}.dropdown-content[_ngcontent-%COMP%]{position:absolute;background-color:#fff;width:100%;z-index:1000;display:grid}.dropdown-content-outer[_ngcontent-%COMP%]{position:absolute;background-color:#fff;width:94%;z-index:999}.dropCss[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.dropdown-heading[_ngcontent-%COMP%]{font-weight:bold;color:#cab;min-width:80%;font-size:15px;margin-bottom:0;padding-bottom:5px;padding-left:1em;text-align:left}.shodowCss[_ngcontent-%COMP%]{box-shadow:0 13px 8px -15px #178fad;border-radius:25px!important}.drop-icon[_ngcontent-%COMP%]{font-size:20px;position:absolute;right:0px;z-index:-1;width:16px;height:16px;margin-right:10px;margin-top:2px}ionic-selectable-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-icon[aria-label="checkmark circle"][_ngcontent-%COMP%]{color:#e9cd00!important}ionic-selectable-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e9cd00!important}.opacity1[_ngcontent-%COMP%]{opacity:1}.opacity2[_ngcontent-%COMP%]{opacity:.5}']}),s})()}];let B=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[[_.Bz.forChild(j)],_.Bz]}),s})();var N=r(3319);let H=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,m.FormsModule,l.IonicModule,N.UV,B]]}),s})()}}]);