"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[8890],{8890:(ne,u,l)=>{l.r(u),l.d(u,{ChecklistPageModule:()=>K});var m=l(8583),_=l(665),r=l(7823),p=l(649),g=l(4762),x=l(1194),f=l(2340),e=l(639),v=l(3037),C=l(4714),I=l(4267),w=l(3056),S=l(3220),k=l(138),y=l(9075),E=l(9457);function q(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275elementStart(2,"div",12),e.\u0275\u0275elementStart(3,"div",13),e.\u0275\u0275elementStart(4,"div",14),e.\u0275\u0275elementStart(5,"p",5),e.\u0275\u0275text(6,"Empty Inspection"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p",15),e.\u0275\u0275text(8,"Question not added in Inspection."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",16),e.\u0275\u0275elementStart(10,"ion-button",17),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).goBack()}),e.\u0275\u0275text(11,"OK"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function b(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(4);return i.selectedAnswer(i.questionlist[i.questionIndex].option_c)}),e.\u0275\u0275element(1,"ion-radio",31),e.\u0275\u0275elementStart(2,"p",32),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.questionlist[t.questionIndex].option_c),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].option_c," ")}}function P(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(4);return i.selectedAnswer(i.questionlist[i.questionIndex].option_d)}),e.\u0275\u0275element(1,"ion-radio",31),e.\u0275\u0275elementStart(2,"p",32),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.questionlist[t.questionIndex].option_d),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].option_d," ")}}function A(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(4);return i.selectedAnswer(i.questionlist[i.questionIndex].option_e)}),e.\u0275\u0275element(1,"ion-radio",31),e.\u0275\u0275elementStart(2,"p",32),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.questionlist[t.questionIndex].option_e),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].option_e," ")}}function T(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275elementStart(1,"div",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(3);return i.selectedAnswer(i.questionlist[i.questionIndex].option_a)}),e.\u0275\u0275element(2,"ion-radio",31),e.\u0275\u0275elementStart(3,"p",32),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(3);return i.selectedAnswer(i.questionlist[i.questionIndex].option_b)}),e.\u0275\u0275element(6,"ion-radio",31),e.\u0275\u0275elementStart(7,"p",32),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,b,4,2,"div",33),e.\u0275\u0275template(10,P,4,2,"div",33),e.\u0275\u0275template(11,A,4,2,"div",33),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("value",t.questionlist[t.questionIndex].option_a),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].option_a," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("value",t.questionlist[t.questionIndex].option_b),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].option_b," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.questionlist[t.questionIndex].option_c),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.questionlist[t.questionIndex].option_d),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.questionlist[t.questionIndex].option_e)}}function M(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p",34),e.\u0275\u0275text(1,"Please select your answer."),e.\u0275\u0275elementEnd())}function z(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"p",35),e.\u0275\u0275text(2,"Answer *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",26),e.\u0275\u0275elementStart(4,"ion-textarea",36),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).answer=i}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.answer)}}function F(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"p",35),e.\u0275\u0275text(2,"Description "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",37),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.questionlist[t.questionIndex].description," ")}}function V(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p",38),e.\u0275\u0275text(1,"Please enter your Comment."),e.\u0275\u0275elementEnd())}function O(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",47),e.\u0275\u0275elementStart(1,"div",48),e.\u0275\u0275elementStart(2,"img",49),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=o.$implicit,a=e.\u0275\u0275nextContext(5);return a.viewImage(a.baseUrl+i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=o.$implicit,s=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",s.baseUrl,"",t,"",e.\u0275\u0275sanitizeUrl)}}function L(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-list",44),e.\u0275\u0275elementStart(2,"ion-row",45),e.\u0275\u0275template(3,O,3,2,"ion-col",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.saved_Images)}}function Q(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-col",47),e.\u0275\u0275elementStart(1,"div",48),e.\u0275\u0275element(2,"img",51),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("src",t,e.\u0275\u0275sanitizeUrl)}}function j(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275elementStart(1,"p",50),e.\u0275\u0275text(2,"Selected images"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-list",44),e.\u0275\u0275elementStart(4,"ion-row",45),e.\u0275\u0275template(5,Q,3,1,"ion-col",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",t.selected_mages)}}function B(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",39),e.\u0275\u0275elementStart(2,"div",40),e.\u0275\u0275elementStart(3,"span",25),e.\u0275\u0275text(4," Pictorial Evidence "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",41),e.\u0275\u0275elementStart(6,"img",42),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).selectImage()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,L,4,1,"div",10),e.\u0275\u0275template(8,j,6,1,"div",43),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",t.saved_Images.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selected_mages.length>0)}}function U(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div"),e.\u0275\u0275elementStart(2,"ion-list"),e.\u0275\u0275elementStart(3,"ion-radio-group",18),e.\u0275\u0275listener("ionChange",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).mcqAnswer(i)}),e.\u0275\u0275elementStart(4,"ion-card-header",19),e.\u0275\u0275elementStart(5,"div",20),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",21),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,T,12,7,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,M,2,0,"p",23),e.\u0275\u0275template(11,z,5,1,"div",10),e.\u0275\u0275template(12,F,5,1,"div",24),e.\u0275\u0275elementStart(13,"div"),e.\u0275\u0275elementStart(14,"ion-card-header"),e.\u0275\u0275elementStart(15,"span",25),e.\u0275\u0275text(16," Comments "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",26),e.\u0275\u0275elementStart(18,"ion-textarea",27),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).description=i})("ionInput",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onCommentChange()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,V,2,0,"p",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,B,9,2,"div",10),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("value",t.selected_answer),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.questionIndex+1,". "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.questionlist[t.questionIndex].question," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","1"==t.questionlist[t.questionIndex].question_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAnswerSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","2"==t.questionlist[t.questionIndex].question_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ng",t.isShowDescription(t.questionlist[t.questionIndex].description)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.description),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isComment),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","1"==t.questionlist[t.questionIndex].accept_file)}}function D(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,q,12,0,"div",10),e.\u0275\u0275template(2,U,21,10,"div",10),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.is_q_present),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.is_q_present)}}function R(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",59),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).preQuestion()}),e.\u0275\u0275text(1," Back "),e.\u0275\u0275element(2,"ion-icon",60),e.\u0275\u0275elementEnd()}}function N(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",59),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).saveUserAnswer()}),e.\u0275\u0275element(1,"ion-icon",61),e.\u0275\u0275elementEnd()}}function H(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",62),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).saveLastUserAnswer()}),e.\u0275\u0275text(1," Submit "),e.\u0275\u0275elementEnd()}}function J(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-footer",52),e.\u0275\u0275elementStart(1,"div"),e.\u0275\u0275elementStart(2,"ion-row"),e.\u0275\u0275elementStart(3,"ion-col",53),e.\u0275\u0275template(4,R,3,0,"ion-button",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"ion-col",55),e.\u0275\u0275element(6,"ion-col",56),e.\u0275\u0275elementStart(7,"ion-col",57),e.\u0275\u0275template(8,N,2,0,"ion-button",54),e.\u0275\u0275template(9,H,2,0,"ion-button",58),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0!=t.questionIndex),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.questionIndex!=t.totalQuestion),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.questionIndex==t.totalQuestion)}}const $=[{path:"",component:(()=>{class n{constructor(t,s,i,a,d,c,h,W,X,Z,Y,ee,te){this.router=t,this.activatedRoute=s,this.appConstant=i,this.restApi=a,this.actionSheetController=d,this.camera=c,this.modalController=h,this.updateData=W,this.fileUploadService=X,this.file=Z,this.domSanitizer=Y,this.platform=ee,this.photoViewer=te,this.description="",this.answer="",this.totalQuestion=0,this.questionIndex=0,this.checklist_id="0",this.baseUrl=f.N.NODE_URL+"public/answer/",this.is_show=!1,this.is_q_present=!1,this.saved_Images=[],this.selected_answer="",this.selected_old_answer="",this.images=[],this.selected_mages=[],this.isComment=!1,this.isAnswerSelected=!1,this.base64Image="",this.checklist_id=this.activatedRoute.snapshot.paramMap.get("checklist_id"),this.item=JSON.parse(this.activatedRoute.snapshot.paramMap.get("item")),this.status=this.activatedRoute.snapshot.paramMap.get("status"),this.id=JSON.parse(this.activatedRoute.snapshot.paramMap.get("id")),this.loadChecklistQuestion(this.checklist_id)}viewImage(t){this.photoViewer.show(this.baseUrl+t)}loadChecklistQuestion(t){if(!this.appConstant.isInternet)return null;this.restApi.getQuestionByID({checklistId:t}).then(i=>{1==i.success&&(this.questionlist=i.data),this.is_show=!0,this.is_q_present=this.questionlist.length>0,this.totalQuestion=this.questionlist.length-1,this.loadAnswer()},i=>{this.appConstant.handleApiError(i)})}loadAnswer(){this.restApi.getCHKAnsByList({checklistId:this.checklist_id}).then(s=>{this.ansList=[],1==s.success&&(this.ansList=s.data),this.getQuestionAnswer(this.questionlist[this.questionIndex].id)},s=>{this.appConstant.handleApiError(s)})}getQuestionAnswer(t){this.selected_old_answer="",this.answer="",this.selected_answer="",this.description="",this.images=[],this.selected_mages=[],this.saved_Images=[],this.ansList.length<=0?(this.answer="",this.selected_answer="",this.description="",this.images=[],this.selected_mages=[],this.saved_Images=[]):(this.answer="",this.selected_answer="",this.description="",this.images=[],this.selected_mages=[],this.saved_Images=[],this.ansList.forEach(s=>{if(s.question_ref_id==t&&(this.answer=s.input_answer,this.selected_answer=s.selected_options,this.selected_old_answer=s.selected_options,this.description=s.comments,""!=s.images)){let i="";i=s.images,this.saved_Images=i.split(",")}}))}mcqAnswer(t){this.isAnswerSelected=!1,this.selected_answer=t.detail.value}selectedAnswer(t){this.isAnswerSelected=!1,this.selected_answer=t}saveLastUserAnswer(){if("1"==this.questionlist[this.questionIndex].question_type){if(this.selected_answer.length<1)return this.isAnswerSelected=!0,""}else if("2"==this.questionlist[this.questionIndex].question_type&&this.answer.length<1)return this.appConstant.toastMsg("Please enter your answer."),"";this.presentModal("Submit Inspection","Are you sure, you want to submit the Inspection?")}onCommentChange(){}saveUserAnswer(){let t=0;if(!this.appConstant.isInternet)return null;if("1"==this.questionlist[this.questionIndex].question_type){if(this.selected_answer.length<1)return this.isAnswerSelected=!0,""}else if("2"==this.questionlist[this.questionIndex].question_type&&this.answer.length<1)return this.appConstant.toastMsg("Please enter your answer."),"";if((this.selected_old_answer!=this.selected_answer||this.images.length>0)&&(this.appConstant.showLoading("Submitting Answer"),t=1e3),"1"==this.questionlist[this.questionIndex].accept_file){let i="";this.restApi.saveQuestionAnswer({selected_options:this.selected_answer,input_answer:this.answer,images:"",comments:this.description,checklist_ref_id:this.checklist_id,question_ref_id:this.questionlist[this.questionIndex].id}).then(a=>{1==a.success&&(i=a.answerId),this.images.length>0?(this.images.forEach(d=>{this.file.resolveLocalFilesystemUrl(d).then(c=>{c.file(h=>{this.readFile(h,i)})})}),setTimeout(()=>{this.appConstant.dismissLoading(),this.loadAnswer(),this.nextQuestion()},t)):setTimeout(()=>{this.appConstant.dismissLoading(),this.loadAnswer(),this.nextQuestion()},t),localStorage.setItem("dataUpdate","1"),this.updateData.dataChangeState.next(!0)},a=>{this.appConstant.dismissLoading(),this.appConstant.handleApiError(a)})}else this.restApi.saveQuestionAnswer({selected_options:this.selected_answer,input_answer:this.answer,images:"",comments:this.description,checklist_ref_id:this.checklist_id,question_ref_id:this.questionlist[this.questionIndex].id}).then(i=>{1==i.success&&setTimeout(()=>{this.appConstant.dismissLoading(),this.loadAnswer(),this.nextQuestion()},t),localStorage.setItem("dataUpdate","1"),this.updateData.dataChangeState.next(!0)},i=>{this.appConstant.handleApiError(i)})}isShowDescription(t){return t.length>0}getListLength(){let t=!1;try{t=0!=this.questionlist.length}catch(s){t=!1}return t}ngOnInit(){}preQuestion(){this.isAnswerSelected=!1,this.isComment=!1,1>this.questionIndex||this.questionIndex--,this.getQuestionAnswer(this.questionlist[this.questionIndex].id)}nextQuestion(){this.isAnswerSelected=!1,this.isComment=!1,this.totalQuestion==this.questionIndex||this.questionIndex++,this.getQuestionAnswer(this.questionlist[this.questionIndex].id)}selectImage(){return(0,g.__awaiter)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImage(this.camera.PictureSourceType.SAVEDPHOTOALBUM)}},{text:"Use Camera",handler:()=>{this.pickImage(this.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]})).present()})}pickImage(t){this.camera.getPicture({quality:20,sourceType:t,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(i=>{if(this.base64Image="",this.platform.is("ios")){let a=i.substring(i.lastIndexOf("/")+1),d=i.substring(0,i.lastIndexOf("/")+1);this.file.readAsDataURL(d,a).then(c=>{this.base64Image=c,this.selected_mages.push(this.base64Image)})}else this.base64Image=window.Ionic.WebView.convertFileSrc(i),this.selected_mages.push(this.base64Image);this.images.push(i)},i=>{})}getImagFile(t){this.file.resolveLocalFilesystemUrl(t).then(s=>{s.file(i=>{const a=new FileReader;a.onload=()=>new Blob([a.result],{type:i.type}),a.readAsArrayBuffer(i)})})}readFile(t,s){const i=new FileReader;i.onload=()=>{const a=new Blob([i.result],{type:t.type});this.fileUploadService.uploadImage(a,s).subscribe(d=>{})},i.readAsArrayBuffer(t)}presentModal(t,s){return(0,g.__awaiter)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:x.O,cssClass:"modal-custom-css",componentProps:{pop_up_type:"ch_list_submit",title:t,msg:s,redirect:"/admin/tabs/inspections",result:""}});return i.onDidDismiss().then(a=>{this.saveUserAnswer(),this.appConstant.toastMsg("Checklist submitted successfully"),this.goBack()}),yield i.present()})}goBack(){this.router.navigate(["/checklist-action",{checklist_id:this.checklist_id,item:JSON.stringify(this.item),status:this.status,id:this.id}])}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(v.Z),e.\u0275\u0275directiveInject(C.e),e.\u0275\u0275directiveInject(r.ActionSheetController),e.\u0275\u0275directiveInject(I.V1),e.\u0275\u0275directiveInject(r.ModalController),e.\u0275\u0275directiveInject(w.X),e.\u0275\u0275directiveInject(S.J),e.\u0275\u0275directiveInject(k.$),e.\u0275\u0275directiveInject(y.H7),e.\u0275\u0275directiveInject(r.Platform),e.\u0275\u0275directiveInject(E.h))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-checklist"]],decls:12,vars:2,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],["slot","end"],["style","margin:10px !important;",4,"ngIf"],["class","ion-no-border","style","background-color: #fff !important;",4,"ngIf"],[2,"margin","10px !important"],[4,"ngIf"],[1,"fullheight","xc"],[2,"text-align","center !important","margin","24px !important"],[1,"parent"],[1,"contentDiv","clear"],[1,"font-size-content","lightFont",2,"text-align","center"],[2,"margin","20px"],["expand","block",2,"margin","10px","text-transform","capitalize",3,"click"],["mode","md",3,"value","ionChange"],[2,"display","flex !important","width","100%"],[1,"marginLeft","font-size-heading","headingFont",2,"width","10%"],[1,"marginLeft","font-size-heading","headingFont",2,"width","90%"],["style","margin-left: 20px !important;",4,"ngIf"],["style","text-align: start;color: red;margin-left: 40px;","class","lightFont font-size-content",4,"ngIf"],[4,"ng"],[1,"marginLeft","font-size-heading","headingFont"],[2,"width","100% !important","padding-left","20px !important","padding-right","30px !important"],["mode","md","placeholder","Enter comment here","name","description","autocomplete","on","autocorrect","on","rows","5",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-left","20px !important","padding","2px !important",3,"ngModel","ngModelChange","ionInput"],["style","text-align: end;color: red;","class","lightFont font-size-content",4,"ngIf"],[2,"margin-left","20px !important"],[2,"display","flex","margin-left","20px",3,"click"],["mode","md",2,"margin-top","8px","--color-checked","#E9CD00",3,"value"],[1,"margin10","font-size-sub-heading","lightFont","text-color-black"],["style","display: flex;margin-left: 20px;",3,"click",4,"ngIf"],[1,"lightFont","font-size-content",2,"text-align","start","color","red","margin-left","40px"],[1,"font-size-heading","lightFont","text-color-black"],["mode","md","placeholder","Enter answer here","name","answer","autocomplete","on","autocorrect","on","rows","5",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-top","20px !important","padding","2px !important",3,"ngModel","ngModelChange"],[1,"font-size-content","lightFont","text-color-dark-gray"],[1,"lightFont","font-size-content",2,"text-align","end","color","red"],[2,"display","flex","width","100%","padding-left","20px !important","margin-top","20px"],[2,"display","flex","width","85%"],[2,"display","flex","width","15%"],["src","/assets/imgs/add.png",2,"width","30px","height","30px",3,"click"],["style","width: 100% !important;padding-left: 20px !important;padding-right: 30px !important;",4,"ngIf"],[2,"padding-bottom","0px"],[2,"margin","4px !important"],["class","thumbnail","size","4",4,"ngFor","ngForOf"],["size","4",1,"thumbnail"],[2,"height","120px","padding","4px","border","1px solid #ccc","border-radius","10px"],["alt","",1,"user-profile-img",2,"border-radius","10px","object-fit","cover","height","100%","width","100%",3,"src","click"],[1,"text-color-primary","font-size-content","headingFont"],["alt","",1,"user-profile-img",2,"height","100%","width","100%","border-radius","10px","object-fit","cover",3,"src"],[1,"ion-no-border",2,"background-color","#fff !important"],["size","3",1,"ion-align-self-start"],["fill","clear","mode","ios",3,"click",4,"ngIf"],["size","2"],["size","4"],["size","3",1,"ion-align-self-end"],["size","small","class","shodowCss","shape","round","expand","full","mode","ios","style","margin-bottom: 14px !important;\n                height: 35px;",3,"click",4,"ngIf"],["fill","clear","mode","ios",3,"click"],["slot","start","mode","md","name","arrow-back-outline"],["slot","end","name","arrow-forward-circle",2,"font-size","36px !important"],["size","small","shape","round","expand","full","mode","ios",1,"shodowCss",2,"margin-bottom","14px !important","height","35px",3,"click"]],template:function(t,s){1&t&&(e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return s.goBack()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-title",4),e.\u0275\u0275elementStart(6,"p",5),e.\u0275\u0275text(7,"Questions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-buttons",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-content"),e.\u0275\u0275template(10,D,3,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,J,10,3,"ion-footer",8)),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",s.is_show),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.is_q_present))},directives:[r.IonHeader,r.IonToolbar,r.IonButtons,r.IonButton,r.IonIcon,r.IonTitle,r.IonContent,m.NgIf,r.IonList,r.IonRadioGroup,r.SelectValueAccessor,r.IonCardHeader,r.IonTextarea,r.TextValueAccessor,_.NgControlStatus,_.NgModel,r.IonRadio,r.RadioValueAccessor,r.IonRow,m.NgForOf,r.IonCol,r.IonFooter],styles:[".success[_ngcontent-%COMP%]{font-size:64px!important;color:#7d9197!important;margin-bottom:-64px;background:white;border-radius:50%;padding:32px}.fullheight[_ngcontent-%COMP%]{height:100%;width:100%}.xc[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contentDiv[_ngcontent-%COMP%]{text-align:center!important;background:white!important;border-radius:10px!important;padding:50px 24px!important}.nextbutton[_ngcontent-%COMP%]{height:40px!important;--background: var(--ion-color-tertiary) !important;--border-radius: 10px !important;text-align:left!important;padding-left:10px!important;padding-right:10px!important}#parent[_ngcontent-%COMP%]{float:left;width:100%}span.clear[_ngcontent-%COMP%]{clear:left;display:block}.spanCss[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.under[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;z-index:-1}.over[_ngcontent-%COMP%]{position:absolute;left:40px;top:10px;z-index:-1}.End-of-Chapter[_ngcontent-%COMP%]{height:18px;font-family:AvantGarde-Demi;font-size:19px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.37;letter-spacing:.44px;text-align:center;color:#70909f}.imgDivCss[_ngcontent-%COMP%]{height:150px;text-align:center;padding:10px;border:1px solid #ccc;border-radius:10px;margin-left:40px;margin-top:20px;margin-right:10px}"]}),n})()}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild($)],p.Bz]}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[m.CommonModule,_.FormsModule,r.IonicModule,G]]}),n})()}}]);