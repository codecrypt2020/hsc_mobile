"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[4252],{4252:(N,d,i)=>{i.r(d),i.d(d,{NotificationsPageModule:()=>I});var c=i(8583),m=i(665),o=i(7823),s=i(649),t=i(639),p=i(3037),g=i(4714);function u(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-card",2),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const l=a.$implicit;return t.\u0275\u0275nextContext().openIssue(l)}),t.\u0275\u0275elementStart(1,"ion-card-header"),t.\u0275\u0275elementStart(2,"ion-card-title",7),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-card-content",8),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",9),t.\u0275\u0275elementStart(7,"p",10),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"date"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&n){const e=a.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",e.type," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.title," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(9,3,e.created_at,"MMM dd, YYYY hh:mm:ss")," ")}}const f=[{path:"",component:(()=>{class n{constructor(e,r,l){this.appConstant=e,this.router=r,this.restApi=l}ngOnInit(){this.loadNotifications()}goBack(){"user"==this.appConstant.getRoleById(localStorage.getItem(this.appConstant.TAG_IS_USER_ROLE))?this.router.navigateByUrl("/users/tabs/home"):this.router.navigateByUrl("/admin/tabs/action")}loadNotifications(){let e=this.appConstant.getNotiData();this.restApi.getNodeNotification(e).then(r=>{this.noti_list=r.data;let l=localStorage.getItem("currentSNCount");localStorage.setItem("oldCount",l),localStorage.setItem("noti_count","00")},r=>{})}openIssue(e){null!=e.permit_id&&null!=e.permit_id||null!=e.incident_id&&null!=e.incident_id&&this.router.navigate(["/inc-response",{id:e.incident_id,status:"",type:"noti"}])}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(p.Z),t.\u0275\u0275directiveInject(s.F0),t.\u0275\u0275directiveInject(g.e))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-notifications"]],decls:12,vars:1,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],[3,"click",4,"ngFor","ngForOf"],[1,"marginLeft","font-size-heading","headingFont"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont"],[2,"padding","8px"],[1,"marginLeft","font-size-content","headingFont",2,"margin","0px","text-align","end","padding-bottom","8px","padding-right","8px"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"ion-header"),t.\u0275\u0275elementStart(1,"ion-toolbar",0),t.\u0275\u0275elementStart(2,"ion-buttons",1),t.\u0275\u0275elementStart(3,"ion-button",2),t.\u0275\u0275listener("click",function(){return r.goBack()}),t.\u0275\u0275element(4,"ion-icon",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"ion-title",4),t.\u0275\u0275elementStart(6,"p",5),t.\u0275\u0275text(7,"Notifications"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"ion-title"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"ion-content"),t.\u0275\u0275elementStart(10,"div"),t.\u0275\u0275template(11,u,10,6,"ion-card",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(11),t.\u0275\u0275property("ngForOf",r.noti_list))},directives:[o.IonHeader,o.IonToolbar,o.IonButtons,o.IonButton,o.IonIcon,o.IonTitle,o.IonContent,c.NgForOf,o.IonCard,o.IonCardHeader,o.IonCardTitle,o.IonCardContent],pipes:[c.DatePipe],styles:[""]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(f)],s.Bz]}),n})(),I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.CommonModule,m.FormsModule,o.IonicModule,h]]}),n})()}}]);