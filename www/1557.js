"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[1557],{1557:(We,k,v)=>{v.r(k),v.d(k,{PtwDetailsPageModule:()=>Le});var E=v(8583),b=v(665),p=v(7823),S=v(649),y=v(4762);class P{constructor(i,t,n,o){if(isNaN(i)||isNaN(t))throw new Error(`Point is invalid: (${i}, ${t})`);this.x=+i,this.y=+t,this.pressure=n||0,this.time=o||Date.now()}distanceTo(i){return Math.sqrt(Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2))}equals(i){return this.x===i.x&&this.y===i.y&&this.pressure===i.pressure&&this.time===i.time}velocityFrom(i){return this.time!==i.time?this.distanceTo(i)/(this.time-i.time):0}}class I{constructor(i,t,n,o,r,s){this.startPoint=i,this.control2=t,this.control1=n,this.endPoint=o,this.startWidth=r,this.endWidth=s}static fromPoints(i,t){const n=this.calculateControlPoints(i[0],i[1],i[2]).c2,o=this.calculateControlPoints(i[1],i[2],i[3]).c1;return new I(i[1],n,o,i[2],t.start,t.end)}static calculateControlPoints(i,t,n){const o=i.x-t.x,r=i.y-t.y,s=t.x-n.x,l=t.y-n.y,__x=(i.x+t.x)/2,__y=(i.y+t.y)/2,m_x=(t.x+n.x)/2,m_y=(t.y+n.y)/2,c=Math.sqrt(o*o+r*r),h=Math.sqrt(s*s+l*l),u=h/(c+h),x=t.x-(m_x+(__x-m_x)*u),D=t.y-(m_y+(__y-m_y)*u);return{c1:new P(__x+x,__y+D),c2:new P(m_x+x,m_y+D)}}length(){let n,o,t=0;for(let r=0;r<=10;r+=1){const s=r/10,l=this.point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),_=this.point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){const m=l-n,c=_-o;t+=Math.sqrt(m*m+c*c)}n=l,o=_}return t}point(i,t,n,o,r){return t*(1-i)*(1-i)*(1-i)+3*n*(1-i)*(1-i)*i+3*o*(1-i)*i*i+r*i*i*i}}class C extends EventTarget{constructor(i,t={}){super(),this.canvas=i,this.options=t,this._handleMouseDown=n=>{1===n.buttons&&(this._drawningStroke=!0,this._strokeBegin(n))},this._handleMouseMove=n=>{this._drawningStroke&&this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{1===n.buttons&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(n))},this._handleTouchStart=n=>{n.preventDefault(),1===n.targetTouches.length&&this._strokeBegin(n.changedTouches[0])},this._handleTouchMove=n=>{n.preventDefault(),this._strokeMoveUpdate(n.targetTouches[0])},this._handleTouchEnd=n=>{n.target===this.canvas&&(n.preventDefault(),this._strokeEnd(n.changedTouches[0]))},this._handlePointerStart=n=>{this._drawningStroke=!0,n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._drawningStroke&&(n.preventDefault(),this._strokeMoveUpdate(n))},this._handlePointerEnd=n=>{this._drawningStroke=!1,n.target===this.canvas&&(n.preventDefault(),this._strokeEnd(n))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?function(a,i=250){let o,r,s,t=0,n=null;const l=()=>{t=Date.now(),n=null,o=a.apply(r,s),n||(r=null,s=[])};return function(...m){const c=Date.now(),h=i-(c-t);return r=this,s=m,h<=0||h>i?(n&&(clearTimeout(n),n=null),t=c,o=a.apply(r,s),n||(r=null,s=[])):n||(n=window.setTimeout(l,h)),o}}(C.prototype._strokeUpdate,this.throttle):C.prototype._strokeUpdate,this._ctx=i.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:i,canvas:t}=this;i.fillStyle=this.backgroundColor,i.clearRect(0,0,t.width,t.height),i.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(i,t={}){return new Promise((n,o)=>{const r=new Image,s=t.ratio||window.devicePixelRatio||1,l=t.width||this.canvas.width/s,_=t.height||this.canvas.height/s,m=t.xOffset||0,c=t.yOffset||0;this._reset(),r.onload=()=>{this._ctx.drawImage(r,m,c,l,_),n()},r.onerror=h=>{o(h)},r.crossOrigin="anonymous",r.src=i,this._isEmpty=!1})}toDataURL(i="image/png",t){switch(i){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(i,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(i,{clear:t=!0}={}){t&&this.clear(),this._fromData(i,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=t?i:this._data.concat(i)}toData(){return this._data}_strokeBegin(i){this.dispatchEvent(new CustomEvent("beginStroke",{detail:i})),this._data.push({dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]}),this._reset(),this._strokeUpdate(i)}_strokeUpdate(i){if(0===this._data.length)return void this._strokeBegin(i);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:i}));const r=this._createPoint(i.clientX,i.clientY,void 0!==i.pressure?i.pressure:void 0!==i.force?i.force:0),s=this._data[this._data.length-1],l=s.points,_=l.length>0&&l[l.length-1],m=!!_&&r.distanceTo(_)<=this.minDistance,{penColor:c,dotSize:h,minWidth:f,maxWidth:d}=s;if(!_||!_||!m){const u=this._addPoint(r);_?u&&this._drawCurve(u,{penColor:c,dotSize:h,minWidth:f,maxWidth:d}):this._drawDot(r,{penColor:c,dotSize:h,minWidth:f,maxWidth:d}),l.push({time:r.time,x:r.x,y:r.y,pressure:r.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:i}))}_strokeEnd(i){this._strokeUpdate(i),this.dispatchEvent(new CustomEvent("endStroke",{detail:i}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(i,t,n){const o=this.canvas.getBoundingClientRect();return new P(i-o.left,t-o.top,n,(new Date).getTime())}_addPoint(i){const{_lastPoints:t}=this;if(t.push(i),t.length>2){3===t.length&&t.unshift(t[0]);const n=this._calculateCurveWidths(t[1],t[2]),o=I.fromPoints(t,n);return t.shift(),o}return null}_calculateCurveWidths(i,t){const n=this.velocityFilterWeight*t.velocityFrom(i)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(n),r={end:o,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=o,r}_strokeWidth(i){return Math.max(this.maxWidth/(i+1),this.minWidth)}_drawCurveSegment(i,t,n){const o=this._ctx;o.moveTo(i,t),o.arc(i,t,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(i,t){const n=this._ctx,o=i.endWidth-i.startWidth,r=2*Math.ceil(i.length());n.beginPath(),n.fillStyle=t.penColor;for(let s=0;s<r;s+=1){const l=s/r,_=l*l,m=_*l,c=1-l,h=c*c,f=h*c;let d=f*i.startPoint.x;d+=3*h*l*i.control1.x,d+=3*c*_*i.control2.x,d+=m*i.endPoint.x;let u=f*i.startPoint.y;u+=3*h*l*i.control1.y,u+=3*c*_*i.control2.y,u+=m*i.endPoint.y;const g=Math.min(i.startWidth+m*o,t.maxWidth);this._drawCurveSegment(d,u,g)}n.closePath(),n.fill()}_drawDot(i,t){const n=this._ctx,o=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;n.beginPath(),this._drawCurveSegment(i.x,i.y,o),n.closePath(),n.fillStyle=t.penColor,n.fill()}_fromData(i,t,n){for(const o of i){const{penColor:r,dotSize:s,minWidth:l,maxWidth:_,points:m}=o;if(m.length>1)for(let c=0;c<m.length;c+=1){const h=m[c],f=new P(h.x,h.y,h.pressure,h.time);this.penColor=r,0===c&&this._reset();const d=this._addPoint(f);d&&t(d,{penColor:r,dotSize:s,minWidth:l,maxWidth:_})}else this._reset(),n(m[0],{penColor:r,dotSize:s,minWidth:l,maxWidth:_})}}_toSVG(){const i=this._data,t=Math.max(window.devicePixelRatio||1,1),r=this.canvas.width/t,s=this.canvas.height/t,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width",this.canvas.width.toString()),l.setAttribute("height",this.canvas.height.toString()),this._fromData(i,(d,{penColor:u})=>{const g=document.createElement("path");if(!(isNaN(d.control1.x)||isNaN(d.control1.y)||isNaN(d.control2.x)||isNaN(d.control2.y))){const x=`M ${d.startPoint.x.toFixed(3)},${d.startPoint.y.toFixed(3)} C ${d.control1.x.toFixed(3)},${d.control1.y.toFixed(3)} ${d.control2.x.toFixed(3)},${d.control2.y.toFixed(3)} ${d.endPoint.x.toFixed(3)},${d.endPoint.y.toFixed(3)}`;g.setAttribute("d",x),g.setAttribute("stroke-width",(2.25*d.endWidth).toFixed(3)),g.setAttribute("stroke",u),g.setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),l.appendChild(g)}},(d,{penColor:u,dotSize:g,minWidth:x,maxWidth:D})=>{const w=document.createElement("circle");w.setAttribute("r",(g>0?g:(x+D)/2).toString()),w.setAttribute("cx",d.x.toString()),w.setAttribute("cy",d.y.toString()),w.setAttribute("fill",u),l.appendChild(w)});const m=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${this.canvas.width} ${this.canvas.height}" width="${r}" height="${s}">`;let c=l.innerHTML;if(void 0===c){const d=document.createElement("dummy"),u=l.childNodes;d.innerHTML="";for(let g=0;g<u.length;g+=1)d.appendChild(u[g].cloneNode(!0));c=d.innerHTML}return"data:image/svg+xml;base64,"+btoa(m+c+"</svg>")}}var e=v(639),A=v(4714);let M=(()=>{class a{constructor(t,n,o){this.restApi=t,this.router=n,this.popoverController=o}ngOnInit(){console.log("ptw status : "+this.isOpen)}suspendStatus(){return(0,y.__awaiter)(this,void 0,void 0,function*(){this.popoverController.dismiss(),this.router.navigate(["/update-status-ptw",{ptw_id:this.ptw_id,cat_id:this.cat_id,cat_name:this.cat_name,type:"suspend"}])})}closeStatus(){this.popoverController.dismiss(),this.router.navigate(["/update-status-ptw",{ptw_id:this.ptw_id,cat_id:this.cat_id,cat_name:this.cat_name,type:"close"}])}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(A.e),e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(p.PopoverController))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-ptw-status"]],inputs:{cat_id:"cat_id",ptw_id:"ptw_id",cat_name:"cat_name",isOpen:"isOpen"},decls:9,vars:2,consts:[[1,"statusCss"],[3,"hidden"],[1,"pTop-no-b-border","font-size-content","headingFont",3,"click"],[1,"pTop","font-size-content","headingFont",3,"click"],[1,"font-size-content","headingFont",2,"margin","5px 0px 5px 0px",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"p",2),e.\u0275\u0275listener("click",function(){return n.suspendStatus()}),e.\u0275\u0275text(3,"Suspend"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275elementStart(5,"p",3),e.\u0275\u0275listener("click",function(){return n.suspendStatus()}),e.\u0275\u0275text(6,"Suspend"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p",4),e.\u0275\u0275listener("click",function(){return n.closeStatus()}),e.\u0275\u0275text(8,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!n.isOpen),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",n.isOpen))},styles:[".statusCss[_ngcontent-%COMP%]{padding:5px!important;margin:0!important;height:auto!important;border:2px solid #F19A4C!important;border-radius:10px!important;background:#FFF4EB!important;text-align:center!important;color:#f19a4c!important}.statusCssWithout-borrder[_ngcontent-%COMP%]{padding:5px!important;margin:0!important;height:auto!important;border-radius:10px!important;background:#FFF4EB!important;text-align:center!important;color:#f19a4c!important}.pTop[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid;margin:0}.pTop-no-b-border[_ngcontent-%COMP%]{padding:5px 0;margin:0}"]}),a})();var T=v(2340),F=v(3037),W=v(7020),U=v(138),N=v(3220),O=v(3056);const B=["canvas"];function z(a,i){1&a&&e.\u0275\u0275element(0,"ion-icon",26)}function V(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-label",24),e.\u0275\u0275listener("click",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().showStatusOpen(o)}),e.\u0275\u0275text(1," Open "),e.\u0275\u0275template(2,z,1,0,"ion-icon",25),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isAllowSuspend())}}function R(a,i){1&a&&e.\u0275\u0275element(0,"ion-icon",26)}function $(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-label",27),e.\u0275\u0275listener("click",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().showStatusIP(o)}),e.\u0275\u0275text(1," In Progress "),e.\u0275\u0275template(2,R,1,0,"ion-icon",25),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showCL_SUP)}}function G(a,i){1&a&&(e.\u0275\u0275elementStart(0,"ion-label",28),e.\u0275\u0275text(1," Closed "),e.\u0275\u0275elementEnd())}function j(a,i){1&a&&(e.\u0275\u0275elementStart(0,"ion-label",29),e.\u0275\u0275text(1," Suspended "),e.\u0275\u0275elementEnd())}function Y(a,i){1&a&&(e.\u0275\u0275elementStart(0,"ion-label",30),e.\u0275\u0275text(1," Expired "),e.\u0275\u0275elementEnd())}function Q(a,i){1&a&&(e.\u0275\u0275elementStart(0,"ion-label",31),e.\u0275\u0275text(1," Extended "),e.\u0275\u0275elementEnd())}function q(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275elementStart(1,"ion-button",45),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).addPTWComment(1)}),e.\u0275\u0275text(2,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function H(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"div",19),e.\u0275\u0275elementStart(3,"div",20),e.\u0275\u0275elementStart(4,"p",21),e.\u0275\u0275text(5,"Co-Signer 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-card-content",32),e.\u0275\u0275elementStart(7,"ion-label"),e.\u0275\u0275elementStart(8,"h2"),e.\u0275\u0275elementStart(9,"p",33),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",34),e.\u0275\u0275elementStart(12,"div",35),e.\u0275\u0275elementStart(13,"ion-checkbox",36),e.\u0275\u0275listener("ionChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).approveCO1(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",37),e.\u0275\u0275elementStart(15,"ion-label",38),e.\u0275\u0275text(16,"Approve "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-label"),e.\u0275\u0275elementStart(18,"h2"),e.\u0275\u0275elementStart(19,"p",39),e.\u0275\u0275text(20,"Comments : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-label",40),e.\u0275\u0275elementStart(22,"div",41),e.\u0275\u0275elementStart(23,"ion-textarea",42),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).co_signer_1_comment=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,q,3,0,"div",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("Name : ",t.ptwDetails.coSigner_1_officer_name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",1==t.isShowApproveBtn(t.ptwDetails.co_signer_1)?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("checked",t.isCoSigner1Approved),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.co_signer_1)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",1==t.isShowApproveBtn(t.ptwDetails.co_signer_1)?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.co_signer_1))("ngModel",t.co_signer_1_comment),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.isShowApproveBtn(t.ptwDetails.co_signer_1))}}function X(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275elementStart(1,"ion-button",45),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).addPTWComment(2)}),e.\u0275\u0275text(2,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function J(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"div",19),e.\u0275\u0275elementStart(3,"div",20),e.\u0275\u0275elementStart(4,"p",21),e.\u0275\u0275text(5,"Co-Signer 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-card-content",32),e.\u0275\u0275elementStart(7,"ion-label"),e.\u0275\u0275elementStart(8,"h2"),e.\u0275\u0275elementStart(9,"p",33),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",34),e.\u0275\u0275elementStart(12,"div",35),e.\u0275\u0275elementStart(13,"ion-checkbox",36),e.\u0275\u0275listener("ionChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).approveCO2(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",37),e.\u0275\u0275elementStart(15,"ion-label",38),e.\u0275\u0275text(16,"Approve "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-label"),e.\u0275\u0275elementStart(18,"h2"),e.\u0275\u0275elementStart(19,"p",39),e.\u0275\u0275text(20,"Comments : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-label"),e.\u0275\u0275elementStart(22,"div",41),e.\u0275\u0275elementStart(23,"ion-textarea",46),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).co_signer_2_comment=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,X,3,0,"div",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("Name : ",t.ptwDetails.coSigner_2_officer_name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",1==t.isShowApproveBtn(t.ptwDetails.co_signer_2)?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("checked",t.isCoSigner2Approved),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.co_signer_2)),e.\u0275\u0275advance(10),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.co_signer_2))("ngModel",t.co_signer_2_comment),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.isShowApproveBtn(t.ptwDetails.co_signer_2))}}function Z(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275elementStart(1,"ion-button",45),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).addPTWComment(3)}),e.\u0275\u0275text(2,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function K(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"div",19),e.\u0275\u0275elementStart(3,"div",20),e.\u0275\u0275elementStart(4,"p",21),e.\u0275\u0275text(5,"Safety Officer "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-card-content",32),e.\u0275\u0275elementStart(7,"ion-label"),e.\u0275\u0275elementStart(8,"h2"),e.\u0275\u0275elementStart(9,"p",33),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",34),e.\u0275\u0275elementStart(12,"div",35),e.\u0275\u0275elementStart(13,"ion-checkbox",36),e.\u0275\u0275listener("ionChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).approveSO(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",37),e.\u0275\u0275elementStart(15,"ion-label",38),e.\u0275\u0275text(16,"Approve "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-label"),e.\u0275\u0275elementStart(18,"h2"),e.\u0275\u0275elementStart(19,"p",39),e.\u0275\u0275text(20,"Comments :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-label",40),e.\u0275\u0275elementStart(22,"div",41),e.\u0275\u0275elementStart(23,"ion-textarea",49),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).safety_officer_comment=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Z,3,0,"div",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("Name : ",t.ptwDetails.safety_officer_name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",1==t.isShowApproveBtn(t.ptwDetails.safety_officer)?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("checked",t.isSafetyOfficerApproved),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.safety_officer)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",1==t.isShowApproveBtn(t.ptwDetails.safety_officer)?"opacity2":"opacity1"),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",1!=t.isShowApproveBtn(t.ptwDetails.safety_officer))("ngModel",t.safety_officer_comment),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.isShowApproveBtn(t.ptwDetails.safety_officer))}}function ee(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,H,25,8,"ion-card",16),e.\u0275\u0275template(2,J,25,7,"ion-card",16),e.\u0275\u0275template(3,K,25,8,"ion-card",16),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.co_signer_1_valid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.co_signer_2_valid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.safety_officer_valid)}}function te(a,i){1&a&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275elementStart(1,"ion-button",56),e.\u0275\u0275text(2,"Upload"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ne(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card-content",32),e.\u0275\u0275elementStart(1,"div"),e.\u0275\u0275elementStart(2,"div"),e.\u0275\u0275elementStart(3,"canvas",50,51),e.\u0275\u0275listener("touchstart",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().startDrawing(o)})("touchmove",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().moved(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-grid"),e.\u0275\u0275elementStart(6,"ion-row"),e.\u0275\u0275elementStart(7,"ion-col",52),e.\u0275\u0275elementStart(8,"ion-button",53),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().clearPad()}),e.\u0275\u0275text(9,"Clear"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-col",54),e.\u0275\u0275elementStart(11,"ion-button",55),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().savePad()}),e.\u0275\u0275text(12,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,te,3,0,"div",47),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",1==t.isShowApproveBtn(t.ptwDetails.safety_officer))}}function ie(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card-content",32),e.\u0275\u0275elementStart(1,"div"),e.\u0275\u0275element(2,"img",57),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",t.baseSignUrl,"",t.signatureImgSaved,"",e.\u0275\u0275sanitizeUrl)}}function ae(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275element(1,"ion-radio",65),e.\u0275\u0275elementStart(2,"p",66),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.option_1),e.\u0275\u0275property("disabled",n.allowSelectAns()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_1," ")}}function oe(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275element(1,"ion-radio",65),e.\u0275\u0275elementStart(2,"p",66),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.option_2),e.\u0275\u0275property("disabled",n.allowSelectAns()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_2," ")}}function re(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275element(1,"ion-radio",65),e.\u0275\u0275elementStart(2,"p",66),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.option_3),e.\u0275\u0275property("disabled",n.allowSelectAns()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_3," ")}}function le(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275element(1,"ion-radio",65),e.\u0275\u0275elementStart(2,"p",66),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",t.option_4),e.\u0275\u0275property("disabled",n.allowSelectAns()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_4," ")}}function se(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-radio-group",59),e.\u0275\u0275listener("ionChange",function(o){e.\u0275\u0275restoreView(t);const r=i.$implicit;return e.\u0275\u0275nextContext(3).saveOption(o,r.id)}),e.\u0275\u0275elementStart(2,"div",60),e.\u0275\u0275elementStart(3,"div",61),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",62),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div"),e.\u0275\u0275template(8,ae,4,3,"div",63),e.\u0275\u0275template(9,oe,4,3,"div",63),e.\u0275\u0275template(10,re,4,3,"div",63),e.\u0275\u0275template(11,le,4,3,"div",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=i.$implicit,n=i.index,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",o.getQuestionAnswer(t.id)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n+1,". "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.question," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",""!=t.option_1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.option_2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.option_3),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.option_4)}}function de(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"div",19),e.\u0275\u0275elementStart(3,"div",20),e.\u0275\u0275elementStart(4,"p",21),e.\u0275\u0275text(5,"Questions "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-card-content",32),e.\u0275\u0275template(7,se,12,7,"div",58),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",t.questionList)}}function ce(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,de,8,1,"ion-card",16),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.questionList.length>0)}}function me(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"Previous Permit Information "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275elementStart(5,"ion-label"),e.\u0275\u0275elementStart(6,"h2"),e.\u0275\u0275elementStart(7,"p",33),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-label"),e.\u0275\u0275elementStart(10,"h2"),e.\u0275\u0275elementStart(11,"p",33),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-label"),e.\u0275\u0275elementStart(14,"h2"),e.\u0275\u0275elementStart(15,"p",33),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-label"),e.\u0275\u0275elementStart(18,"h2"),e.\u0275\u0275elementStart(19,"p",33),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-label"),e.\u0275\u0275elementStart(22,"h2"),e.\u0275\u0275elementStart(23,"p",33),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1("Contactor : ",t.previoudDetails.contactor," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Contractor Name : ",t.previoudDetails.contractor_name," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("No. of workers expected : ",t.previoudDetails.no_of_workers_expected," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("From date : ",t.previoudDetails.proposed_start_day_from," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("To date : ",t.previoudDetails.proposed_start_day_to," ")}}function pe(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-card"),e.\u0275\u0275elementStart(2,"ion-card-header",18),e.\u0275\u0275elementStart(3,"p",21),e.\u0275\u0275text(4,"Basic Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-card-content",32),e.\u0275\u0275elementStart(6,"ion-label"),e.\u0275\u0275elementStart(7,"h2"),e.\u0275\u0275elementStart(8,"p",33),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-label"),e.\u0275\u0275elementStart(11,"h2"),e.\u0275\u0275elementStart(12,"p",33),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"ion-label"),e.\u0275\u0275elementStart(15,"h2"),e.\u0275\u0275elementStart(16,"p",33),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"ion-label"),e.\u0275\u0275elementStart(19,"h2"),e.\u0275\u0275elementStart(20,"p",33),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"ion-label"),e.\u0275\u0275elementStart(23,"h2"),e.\u0275\u0275elementStart(24,"p",33),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ion-label"),e.\u0275\u0275elementStart(27,"h2"),e.\u0275\u0275elementStart(28,"p",33),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"ion-label"),e.\u0275\u0275elementStart(31,"h2"),e.\u0275\u0275elementStart(32,"p",33),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"ion-label"),e.\u0275\u0275elementStart(35,"h2"),e.\u0275\u0275elementStart(36,"p",33),e.\u0275\u0275text(37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"ion-label"),e.\u0275\u0275elementStart(39,"h2"),e.\u0275\u0275elementStart(40,"p",33),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,me,25,5,"ion-card",16),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1("Permit Name : ",t.ptwDetails.cat_name," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Contactor : ",t.ptwDetails.contractor," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Contractor Name : ",t.ptwDetails.contractor_name," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("No. of workers expected : ",t.ptwDetails.no_of_workers_expected," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("From date : ",t.ptwDetails.proposed_start_day_from," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("To date : ",t.ptwDetails.proposed_start_day_to," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Scheduled work day : ",t.ptwDetails.scheduled_work_day," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Working Hours From : ",t.ptwDetails.working_hours_from," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Working Hours To : ",t.ptwDetails.working_hours_to," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",6==t.ptwDetails.permit_status)}}function _e(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275elementStart(5,"ion-label"),e.\u0275\u0275elementStart(6,"h2"),e.\u0275\u0275elementStart(7,"p",33),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-label"),e.\u0275\u0275elementStart(10,"h2"),e.\u0275\u0275elementStart(11,"p",33),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-label"),e.\u0275\u0275elementStart(14,"h2"),e.\u0275\u0275elementStart(15,"p",33),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-label"),e.\u0275\u0275elementStart(18,"h2"),e.\u0275\u0275elementStart(19,"p",33),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-label"),e.\u0275\u0275elementStart(22,"h2"),e.\u0275\u0275elementStart(23,"p",33),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"ion-label"),e.\u0275\u0275elementStart(26,"h2"),e.\u0275\u0275elementStart(27,"p",33),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"ion-label"),e.\u0275\u0275elementStart(30,"h2"),e.\u0275\u0275elementStart(31,"p",33),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"ion-label"),e.\u0275\u0275elementStart(34,"h2"),e.\u0275\u0275elementStart(35,"p",33),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"ion-label"),e.\u0275\u0275elementStart(38,"h2"),e.\u0275\u0275elementStart(39,"p",33),e.\u0275\u0275text(40),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.getContractorType()," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("Worker Compensation : ",t.getYesNo(t.ptwDetails.worker_compensation)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Employees State Insurance : ",t.getYesNo(t.ptwDetails.employees_state_insurance)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Provident Fund : ",t.getYesNo(t.ptwDetails.provident_fund)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Medical Reports : ",t.getYesNo(t.ptwDetails.medical_reports)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Gov. ID evidences : ",t.getYesNo(t.ptwDetails.gov_id_evidences)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Children below 14 years : ",t.getYesNo(t.ptwDetails.below_14_years_children)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("List of all workers : ",t.getYesNo(t.ptwDetails.list_all_workers)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Safe Operating Procedure : ",t.getYesNo(t.ptwDetails.safe_operating_procedure)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Has a valid test report and certificate : ",t.getYesNo(t.ptwDetails.co_signer_2_comment)," ")}}function he(a,i){1&a&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275elementStart(1,"p",69),e.\u0275\u0275text(2,"Images Not Uploaded"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ge(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",73),e.\u0275\u0275elementStart(1,"div",74),e.\u0275\u0275elementStart(2,"img",75),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=i.$implicit,r=e.\u0275\u0275nextContext(4);return r.viewImage(r.baseNodeUrl+o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=i.$implicit,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",n.baseNodeUrl,"",t,"",e.\u0275\u0275sanitizeUrl)}}function ue(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-list",70),e.\u0275\u0275elementStart(2,"ion-row",71),e.\u0275\u0275template(3,ge,3,2,"ion-col",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.imageListMD)}}function ve(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"Medical Reports Images "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275template(5,he,3,0,"div",67),e.\u0275\u0275template(6,ue,4,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",0==t.imageListMD.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.imageListMD.length>0)}}function fe(a,i){1&a&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275elementStart(1,"p",69),e.\u0275\u0275text(2,"Images Not Uploaded"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function xe(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",73),e.\u0275\u0275elementStart(1,"div",74),e.\u0275\u0275elementStart(2,"img",75),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=i.$implicit,r=e.\u0275\u0275nextContext(4);return r.viewImage(r.baseNodeUrl+o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=i.$implicit,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",n.baseNodeUrl,"",t,"",e.\u0275\u0275sanitizeUrl)}}function Se(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-list",70),e.\u0275\u0275elementStart(2,"ion-row",71),e.\u0275\u0275template(3,xe,3,2,"ion-col",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.imageListGI)}}function we(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"Gov Id Images "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275template(5,fe,3,0,"div",67),e.\u0275\u0275template(6,Se,4,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",0==t.imageListGI.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.imageListGI.length>0)}}function Ee(a,i){1&a&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275elementStart(1,"p",69),e.\u0275\u0275text(2,"Images Not Uploaded"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ye(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",73),e.\u0275\u0275elementStart(1,"div",74),e.\u0275\u0275elementStart(2,"img",75),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=i.$implicit,r=e.\u0275\u0275nextContext(4);return r.viewImage(r.baseNodeUrl+o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=i.$implicit,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",n.baseNodeUrl,"",t,"",e.\u0275\u0275sanitizeUrl)}}function Pe(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-list",70),e.\u0275\u0275elementStart(2,"ion-row",71),e.\u0275\u0275template(3,ye,3,2,"ion-col",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.imageListGI)}}function Ce(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"Gov Id Evidences "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275template(5,Ee,3,0,"div",67),e.\u0275\u0275template(6,Pe,4,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",0==t.imageListGI.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.imageListGI.length>0)}}function De(a,i){1&a&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275elementStart(1,"p",69),e.\u0275\u0275text(2,"Images Not Uploaded"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function be(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",73),e.\u0275\u0275elementStart(1,"div",74),e.\u0275\u0275elementStart(2,"img",75),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=i.$implicit,r=e.\u0275\u0275nextContext(4);return r.viewImage(r.baseNodeUrl+o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=i.$implicit,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate2("src","",n.baseNodeUrl,"",t,"",e.\u0275\u0275sanitizeUrl)}}function Ie(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"ion-list",70),e.\u0275\u0275elementStart(2,"ion-row",71),e.\u0275\u0275template(3,be,3,2,"ion-col",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.imageListTRC)}}function Te(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card"),e.\u0275\u0275elementStart(1,"ion-card-header",18),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"Certificate of Tools Images "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content",32),e.\u0275\u0275template(5,De,3,0,"div",67),e.\u0275\u0275template(6,Ie,4,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",0==t.imageListTRC.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.imageListTRC.length>0)}}function ke(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ve,7,2,"ion-card",16),e.\u0275\u0275template(2,we,7,2,"ion-card",16),e.\u0275\u0275template(3,Ce,7,2,"ion-card",16),e.\u0275\u0275template(4,Te,7,2,"ion-card",16),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.medical_reports),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.list_all_workers),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.gov_id_evidences),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.ptwDetails.ppe_equipment_tool)}}const Ae=[{path:"",component:(()=>{class a{constructor(t,n,o,r,s,l,_,m,c,h){this.restApi=t,this.appConstant=n,this.activatedRoute=o,this.router=r,this.base64ToGallery=s,this.platform=l,this.file=_,this.fileUploadService=m,this.popoverController=c,this.updateData=h,this.requester_id="",this.safety_officer_comment="",this.isSafetyOfficerApproved=!1,this.co_signer_1_comment="",this.isCoSigner1Approved=!1,this.co_signer_2_comment="",this.isCoSigner2Approved=!1,this.baseNodeUrl=T.N.IMG_BASE_N_URL+"public/permit/documentImage/",this.baseSignUrl=T.N.IMG_BASE_N_URL+"public/permit/signature/",this.currentTab=1,this.currentPopover=null,this.base64Image="",this.imgUrl=T.N.NODE_URL+"public/permit/documentImage/",this.contractorTypeList=["Internal","Register Vendor","Un-Register Vendor"],this.ptwDetails=[],this.imageListMD=[],this.imageListAW=[],this.imageListGI=[],this.imageListTRC=[],this.showCL_SUP=!1,this.signatureImgSaved="",this.previoudDetails=[],this.questionList=[],this.answerList=[]}selectDetails(t){this.currentTab=t}showStatusIP(t){return(0,y.__awaiter)(this,void 0,void 0,function*(){if(this.showCL_SUP){const n=yield this.popoverController.create({event:t,component:M,cssClass:"my-custom-class",mode:"md",componentProps:{ptw_id:this.ptw_id,cat_id:this.cat_id,cat_name:this.cat_name,isOpen:!1}});return this.currentPopover=n,yield n.present()}})}showStatusOpen(t){return(0,y.__awaiter)(this,void 0,void 0,function*(){if(this.showCL_SUP){const n=yield this.popoverController.create({event:t,component:M,cssClass:"my-custom-class",mode:"md",componentProps:{ptw_id:this.ptw_id,cat_id:this.cat_id,cat_name:this.cat_name,isOpen:!0}});return this.currentPopover=n,yield n.present()}})}viewImage(t){}isAllowSuspend(){return Number(this.requester_id)==Number(localStorage.getItem(this.appConstant.TAG_IS_USER_ID))}ngAfterViewInit(){this.signaturePad=new C(this.canvasEl.nativeElement)}startDrawing(t){this.signatureImg=""}moved(t){}clearPad(){this.signaturePad.clear()}savePad(){let t="";this.isShowApproveBtn(this.ptwDetails.co_signer_1)?t="coSignerOne":this.isShowApproveBtn(this.ptwDetails.co_signer_2)?t="coSignerTwo":this.isShowApproveBtn(this.ptwDetails.safety_officer)&&(t="safety"),this.checkFileBlob(t)}checkFileBlob(t){return(0,y.__awaiter)(this,void 0,void 0,function*(){console.log("checkFileBlob : "+t);let n=this.signaturePad.toDataURL();yield fetch(n).then(o=>o.blob()).then(o=>{console.log("blobFile : "+t),this.fileUploadService.uploadPTW_S_Image(o,this.ptw_id,t).subscribe(r=>{})})})}convertBase64(t){for(var n=atob(t.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),o=new Array(n.length),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);var s=new Uint8Array(o);new Blob([s],{type:void 0})}readFile(t,n){const o=new FileReader;o.onload=()=>{const r=new Blob([o.result],{type:t.type});this.fileUploadService.uploadPTW_S_Image(r,this.ptw_id,n).subscribe(s=>{})},o.readAsArrayBuffer(t)}dataURItoBlob(t){const n=window.atob(t),o=new ArrayBuffer(n.length),r=new Uint8Array(o);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return new Blob([r],{type:"image/png"})}approveSO(t){this.isSafetyOfficerApproved=!!(this.isSafetyOfficerApproved=t.detail.checked)}approveCO1(t){this.isCoSigner1Approved=!!(this.isCoSigner1Approved=t.detail.checked)}approveCO2(t){this.isCoSigner2Approved=!!(this.isCoSigner2Approved=t.detail.checked)}goBack(){this.router.navigate(["ptw-list",{cat_id:this.cat_id,cat_name:this.cat_name}])}getContractorType(){return"Contractor Type : "+this.contractorTypeList[Number(this.ptwDetails.permit_contract_type)-1]}getYesNo(t){return 0==t||"0"==t||null==t||null==t?"No":"Yes"}ngOnInit(){this.ptw_id=this.activatedRoute.snapshot.paramMap.get("ptw_id"),this.cat_id=this.activatedRoute.snapshot.paramMap.get("cat_id"),this.cat_name=this.activatedRoute.snapshot.paramMap.get("cat_name"),this.loadDetails(),this.loadPTWAnswer(),this.updateData.dataChangeState.subscribe(t=>{t&&("1"==localStorage.getItem("dataUpdatePTWDetails")&&(this.loadDetails(),this.loadPTWAnswer()),localStorage.setItem("dataUpdatePTWDetails","0"),this.updateData.dataChangeState.next(!1))})}loadDetails(){this.restApi.getPTWDetails({updateId:this.ptw_id}).then(n=>{this.ptwDetails=[],this.ptwDetails=n.data[0],this.co_signer_1_comment=this.ptwDetails.co_signer_1_comment,this.co_signer_2_comment=this.ptwDetails.co_signer2_comment,this.safety_officer_comment=this.ptwDetails.safety_officer_comment,this.requester_id=this.ptwDetails.created_by,this.signatureImgSaved=this.isShowApproveBtn(this.ptwDetails.co_signer_1)?this.ptwDetails.co1_sign_img:this.isShowApproveBtn(this.ptwDetails.co_signer_2)?this.ptwDetails.co2_sign_img:this.isShowApproveBtn(this.ptwDetails.safety_officer)?this.ptwDetails.so_sign_img:"",this.isSafetyOfficerApproved=!!(this.isSafetyOfficerApproved=this.ptwDetails.safety_officer_approve),this.isCoSigner1Approved=!!(this.isCoSigner1Approved=this.ptwDetails.co_signer_1_approve),this.isCoSigner2Approved=!!(this.isCoSigner2Approved=this.ptwDetails.co_signer2_approve);try{this.imageListMD=this.ptwDetails.medical_report_img.split(",")}catch(o){this.imageListMD=[]}try{this.imageListAW=this.ptwDetails.list_of_all_workers_img.split(",")}catch(o){this.imageListAW=[]}try{this.imageListGI=this.ptwDetails.gov_id_img.split(",")}catch(o){this.imageListGI=[]}try{this.imageListTRC=this.ptwDetails.ppe_equipment_tools_img.split(",")}catch(o){this.imageListTRC=[]}try{console.log(typeof this.requester_id),console.log(typeof localStorage.getItem(this.appConstant.TAG_IS_USER_ID)),this.showCL_SUP=Number(this.requester_id)==Number(localStorage.getItem(this.appConstant.TAG_IS_USER_ID))}catch(o){this.showCL_SUP=!1}try{6==this.ptwDetails.permit_status&&this.loadPreviousDetails()}catch(o){}},n=>{})}loadPreviousDetails(){this.restApi.getPreviousDetails({currentId:this.ptw_id}).then(n=>{this.previoudDetails=n.data[0],this.appConstant.consoleLog(n,"loadPreviousDetails")},n=>{})}allowSelectAns(){return this.requester_id!=localStorage.getItem(this.appConstant.TAG_IS_USER_ID)}isCloseSup(){return this.requester_id==localStorage.getItem(this.appConstant.TAG_IS_USER_ID)}addPTWComment(t){let n;1==t?n={approve:this.isCoSigner1Approved?1:0,comment:this.co_signer_1_comment,id:this.ptw_id}:2==t?n={approve:this.isCoSigner2Approved?1:0,comment:this.co_signer_2_comment,id:this.ptw_id}:3==t&&(n={approve:this.isSafetyOfficerApproved?1:0,comment:this.safety_officer_comment,id:this.ptw_id}),this.restApi.savePTWComment(n).then(o=>{this.appConstant.toastMsg("Comment added successfully."),this.loadDetails(),this.loadPTWAnswer()},o=>{})}isShowApproveBtn(t){return t==localStorage.getItem(this.appConstant.TAG_IS_USER_ID)}saveOption(t,n){this.saveAnswer(t.detail.value,n)}saveAnswer(t,n){this.restApi.savePTWQ_answer({ques_ref_id:n,selected_option:t,work_permit_id:this.ptw_id}).then(r=>{this.appConstant.toastMsg("Answer submitted successfully.")},r=>{})}loadPTWQuestion(){this.restApi.getPTWQuestion({catId:this.cat_id}).then(n=>{this.questionList=n.data},n=>{})}loadPTWAnswer(){this.restApi.loadPTWQAnswer({work_permit_id:this.ptw_id}).then(n=>{this.answerList=n.data,this.loadPTWQuestion()},n=>{})}getQuestionAnswer(t){try{return this.answerList.find(o=>o.question_ref_id==t).selected_option}catch(n){return""}}isShowSO(){return 1==this.ptwDetails.safety_officer_valid&&1!=this.ptwDetails.safety_officer_valid}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(A.e),e.\u0275\u0275directiveInject(F.Z),e.\u0275\u0275directiveInject(S.gz),e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(W.t),e.\u0275\u0275directiveInject(p.Platform),e.\u0275\u0275directiveInject(U.$),e.\u0275\u0275directiveInject(N.J),e.\u0275\u0275directiveInject(p.PopoverController),e.\u0275\u0275directiveInject(O.X))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-ptw-details"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(B,1),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.canvasEl=o.first)}},decls:48,vars:20,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],["slot","end"],["class","marginLeft p1 text-color-primary font-size-content headingFont openStatusPTW",3,"click",4,"ngIf"],["class","marginLeft p1 text-color-primary font-size-content headingFont iPStatusPTW",3,"click",4,"ngIf"],["class","marginLeft p1 text-color-primary font-size-content headingFont closeStatusPTW",4,"ngIf"],["class","marginLeft p1 text-color-primary font-size-content headingFont suspendStatusPTW",4,"ngIf"],["class","marginLeft p1 text-color-primary font-size-content headingFont expiredStatusPTW",4,"ngIf"],["class","marginLeft p1 text-color-primary font-size-content headingFont extendStatusPTW",4,"ngIf"],[1,"marginLeft","p1","text-color-primary","font-size-sub-heading","headingFont","pClose"],[1,"scrolling-wrapper"],[3,"ngClass","click"],[4,"ngIf"],[3,"hidden"],[2,"background","#f3d31d !important"],[2,"display","flex","width","100%"],[2,"width","100%"],[1,"marginLeft","font-size-heading","headingFont",2,"text-align","start","margin","0px","color","#000","text-transform","none !important"],["style","margin-left: 8px;margin-top: 4px; ",4,"ngIf"],["style","margin-left: 8px;margin-top: 4px;",4,"ngIf"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","openStatusPTW",3,"click"],["name","chevron-forward-outline","style","margin-top: 2px;margin-left: 3px;",4,"ngIf"],["name","chevron-forward-outline",2,"margin-top","2px","margin-left","3px"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","iPStatusPTW",3,"click"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","closeStatusPTW"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","suspendStatusPTW"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","expiredStatusPTW"],[1,"marginLeft","p1","text-color-primary","font-size-content","headingFont","extendStatusPTW"],[2,"margin-left","8px","margin-top","4px"],[1,"text-color-primary","font-size-sub-heading","headingFont",2,"padding","4px"],[2,"display","flex","margin-top","20px","margin-left","10px","width","100%",3,"ngClass"],[2,"width","8%","margin-top","5px"],["mode","md",2,"--background-checked","#E9CD00","--border-color-checked","#E9CD00",3,"disabled","checked","ionChange"],[2,"width","92%"],[1,"text-color-primary","font-size-sub-heading","headingFont",2,"margin","0px 0px 0px 10px"],[1,"text-color-primary","font-size-sub-heading","headingFont",2,"padding","4px","margin-top","20px"],[3,"ngClass"],[2,"width","100% !important","padding-left","30px !important","padding-right","30px !important"],["placeholder","Co Signer 2 comment","name","co_signer_1_comment","autocomplete","on","autocorrect","on","rows","5",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-top","10px !important","padding","10px !important",3,"disabled","ngModel","ngModelChange"],["style","text-align: end;margin-top: 10px;",4,"ngIf"],[2,"text-align","end","margin-top","10px"],["size","small",3,"click"],["placeholder","Co Signer 2 comment","name","co_signer_2_comment","autocomplete","on","autocorrect","on","rows","5",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-top","10px !important","padding","10px !important",3,"disabled","ngModel","ngModelChange"],["style","text-align: end;",4,"ngIf"],[2,"text-align","end"],["placeholder","Safety officer comment","name","safety_officer_comment","autocomplete","on","autocorrect","on","rows","5",1,"headingFont","shodowCss","font-size-sub-heading","txtArea",2,"margin-top","10px !important","padding","10px !important",3,"disabled","ngModel","ngModelChange"],[1,"canvasCss",3,"touchstart","touchmove"],["canvas",""],["size","6"],["color","danger",3,"click"],["size","4","offset","2"],["color","secondary",3,"click"],["size","small"],[3,"src"],[4,"ngFor","ngForOf"],["mode","md",3,"value","ionChange"],[2,"width","100%","display","flex"],[1,"marginLeft","font-size-heading","headingFont",2,"width","10%"],[1,"marginLeft","font-size-heading","headingFont",2,"width","90%"],["style","display: flex;margin-left: 20px;",4,"ngIf"],[2,"display","flex","margin-left","20px"],["mode","md",2,"margin-top","8px","--color-checked","#E9CD00",3,"disabled","value"],[1,"margin10","font-size-sub-heading","lightFont","text-color-black"],["style","margin-left: 8px;margin-top: 8px; ",4,"ngIf"],[2,"margin-left","8px","margin-top","8px"],[1,"text-color-gray","font-size-sub-heading","headingFont"],[2,"padding-bottom","0px"],["scrollX","true",2,"margin","4px !important"],["class","thumbnail","size","4",4,"ngFor","ngForOf"],["size","4",1,"thumbnail"],[2,"height","120px","padding","4px","border","1px solid #ccc","border-radius","10px"],["alt","","onerror","this.onerror=null;this.src='assets/imgs/n-i2.png';",1,"user-profile-img",2,"margin","0px","border-radius","10px","height","100%","width","100%","object-fit","cover",3,"src","click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.goBack()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-title",4),e.\u0275\u0275elementStart(6,"p",5),e.\u0275\u0275text(7,"PTW Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-buttons",6),e.\u0275\u0275elementStart(9,"div"),e.\u0275\u0275template(10,V,3,1,"ion-label",7),e.\u0275\u0275template(11,$,3,1,"ion-label",8),e.\u0275\u0275template(12,G,2,0,"ion-label",9),e.\u0275\u0275template(13,j,2,0,"ion-label",10),e.\u0275\u0275template(14,Y,2,0,"ion-label",11),e.\u0275\u0275template(15,Q,2,0,"ion-label",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ion-content"),e.\u0275\u0275elementStart(17,"p",13),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275elementStart(20,"div",15),e.\u0275\u0275listener("click",function(){return n.selectDetails(1)}),e.\u0275\u0275elementStart(21,"label"),e.\u0275\u0275text(22,"Basic Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",15),e.\u0275\u0275listener("click",function(){return n.selectDetails(2)}),e.\u0275\u0275elementStart(24,"label"),e.\u0275\u0275text(25,"Contractor Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",15),e.\u0275\u0275listener("click",function(){return n.selectDetails(3)}),e.\u0275\u0275elementStart(27,"label"),e.\u0275\u0275text(28,"Questions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",15),e.\u0275\u0275listener("click",function(){return n.selectDetails(4)}),e.\u0275\u0275elementStart(30,"label"),e.\u0275\u0275text(31,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",15),e.\u0275\u0275listener("click",function(){return n.selectDetails(5)}),e.\u0275\u0275elementStart(33,"label"),e.\u0275\u0275text(34,"Documents"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,ee,4,3,"div",16),e.\u0275\u0275elementStart(36,"ion-card",17),e.\u0275\u0275elementStart(37,"ion-card-header",18),e.\u0275\u0275elementStart(38,"div",19),e.\u0275\u0275elementStart(39,"div",20),e.\u0275\u0275elementStart(40,"p",21),e.\u0275\u0275text(41,"Upload Signature(Optional) "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,ne,14,1,"ion-card-content",22),e.\u0275\u0275template(43,ie,3,2,"ion-card-content",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,ce,2,1,"div",16),e.\u0275\u0275template(45,pe,43,10,"div",16),e.\u0275\u0275template(46,_e,41,10,"ion-card",16),e.\u0275\u0275template(47,ke,5,4,"div",16),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",1==n.ptwDetails.permit_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2==n.ptwDetails.permit_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3==n.ptwDetails.permit_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4==n.ptwDetails.permit_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",5==n.ptwDetails.permit_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",6==n.ptwDetails.permit_status),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Permit ID : ",n.ptwDetails.permit_id," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",1==n.currentTab?"cardActive":"card"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",2==n.currentTab?"cardActive":"card"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",3==n.currentTab?"cardActive":"card"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",4==n.currentTab?"cardActive":"card"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",5==n.currentTab?"cardActive":"card"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",4==n.currentTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!(n.isShowApproveBtn(n.ptwDetails.co_signer_1)||n.isShowApproveBtn(n.ptwDetails.co_signer_2)||n.isShowApproveBtn(n.ptwDetails.safety_officer))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",""==n.signatureImgSaved||null==n.signatureImgSaved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=n.signatureImgSaved&&null!=n.signatureImgSaved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3==n.currentTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==n.currentTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2==n.currentTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",5==n.currentTab))},directives:[p.IonHeader,p.IonToolbar,p.IonButtons,p.IonButton,p.IonIcon,p.IonTitle,E.NgIf,p.IonContent,E.NgClass,p.IonCard,p.IonCardHeader,p.IonLabel,p.IonCardContent,p.IonCheckbox,p.BooleanValueAccessor,p.IonTextarea,p.TextValueAccessor,b.NgControlStatus,b.NgModel,p.IonGrid,p.IonRow,p.IonCol,E.NgForOf,p.IonRadioGroup,p.SelectValueAccessor,p.IonRadio,p.RadioValueAccessor,p.IonList],styles:[".opacity1[_ngcontent-%COMP%]{opacity:.5}.opacity2[_ngcontent-%COMP%]{opacity:1}.canvasCss[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;margin-top:10px;border-radius:10px}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;white-space:nowrap;padding-top:10px;height:60px}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block;border:1px solid #c9c5c5;padding:10px;margin-left:10px;margin-right:10px;border-radius:10px;color:#000}.scrolling-wrapper[_ngcontent-%COMP%]   .cardActive[_ngcontent-%COMP%]{display:inline-block;border:1px solid #f3d31d!important;background-color:#f3d31d!important;padding:10px;margin-left:10px;margin-right:10px;border-radius:10px;color:#000}"]}),a})()}];let Me=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[S.Bz.forChild(Ae)],S.Bz]}),a})(),Le=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[E.CommonModule,b.FormsModule,p.IonicModule,Me]]}),a})()}}]);