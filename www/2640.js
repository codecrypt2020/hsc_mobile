"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[2640],{2640:(M,f,l)=>{l.r(f),l.d(f,{SelfDPageModule:()=>k});var m=l(8583),g=l(665),o=l(7823),p=l(649),h=l(4762),_=l(1194),e=l(639),v=l(3037),x=l(4714),S=l(4267);function I(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275elementStart(2,"div",12),e.\u0275\u0275elementStart(3,"div",13),e.\u0275\u0275elementStart(4,"div",14),e.\u0275\u0275elementStart(5,"p",5),e.\u0275\u0275text(6,"Self Declaration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p",15),e.\u0275\u0275text(8,"Self Declaration not available."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",16),e.\u0275\u0275elementStart(10,"ion-button",17),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).goBack()}),e.\u0275\u0275text(11,"OK"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function y(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",23),e.\u0275\u0275element(2,"ion-radio",24),e.\u0275\u0275elementStart(3,"p",25),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",23),e.\u0275\u0275element(6,"ion-radio",24),e.\u0275\u0275elementStart(7,"p",25),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("value",i.questionlist[i.questionIndex].option_a),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_a," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("value",i.questionlist[i.questionIndex].option_b),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.option_b," ")}}function C(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-radio-group",20),e.\u0275\u0275listener("ionChange",function(a){e.\u0275\u0275restoreView(t);const s=r.$implicit,d=r.index;return e.\u0275\u0275nextContext(3).mcqAnswer(a,s.id,d)}),e.\u0275\u0275elementStart(1,"ion-list-header",21),e.\u0275\u0275elementStart(2,"ion-label"),e.\u0275\u0275elementStart(3,"p",22),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,y,9,4,"div",10),e.\u0275\u0275elementEnd()}if(2&n){const t=r.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",t.question," *"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","1"==i.questionlist[i.questionIndex].question_type)}}function E(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",18),e.\u0275\u0275elementStart(2,"ion-list"),e.\u0275\u0275template(3,C,6,2,"ion-radio-group",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.questionlist)}}function b(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,I,12,0,"div",10),e.\u0275\u0275template(2,E,4,1,"div",10),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.is_q_present),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.is_q_present)}}function D(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-footer",26),e.\u0275\u0275elementStart(1,"ion-button",27),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().saveUserAnswer()}),e.\u0275\u0275text(2,"Submit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}const P=[{path:"",component:(()=>{class n{constructor(t,i,a,s,d,u,c){this.router=t,this.activatedRoute=i,this.appConstant=a,this.restApi=s,this.actionSheetController=d,this.camera=u,this.modalController=c,this.totalQuestion=0,this.questionIndex=0,this.checklist_id="0",this.answerList=[],this.is_show=!1,this.is_q_present=!1,this.checklist_id=this.activatedRoute.snapshot.paramMap.get("id"),this.loadChecklistQuestion(this.checklist_id)}loadChecklistQuestion(t){if(!this.appConstant.isInternet)return null;this.restApi.getQuestionByID({checklistId:t}).then(a=>{1==a.success&&(this.questionlist=a.data),this.is_show=!0,this.is_q_present=this.questionlist.length>0,this.totalQuestion=this.questionlist.length-1},a=>{this.appConstant.handleApiError(a)})}mcqAnswer(t,i,a){this.answerList[a]={id:i,ans:t.detail.value}}saveUserAnswer(){if(!this.appConstant.isInternet)return null;if(5==this.answerList.length){let t="Yes";this.answerList.forEach(d=>{"Yes"==d.ans&&(t="No")}),this.answerList.forEach(d=>{this.restApi.saveQuestionAnswer({selected_options:d.ans,input_answer:"",images:"",comments:"",checklist_ref_id:this.checklist_id,question_ref_id:d.id}).then(c=>{},c=>{this.appConstant.handleApiError(c)})});const i=new Date;let s=new m.DatePipe("en-US").transform(i,"d-MM-yyyy");localStorage.setItem("self_d",JSON.stringify(this.answerList)),localStorage.setItem("self_d_date",s),this.presentModal("Yes"==t?"Safe to Enter":"Unsafe to Enter","Self Declaration submitted successfully.",t)}else this.appConstant.toastMsg("Answer all question")}getListLength(){let t=!1;try{t=0!=this.questionlist.length}catch(i){t=!1}return t}ngOnInit(){}presentModal(t,i,a){return(0,h.__awaiter)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:_.O,cssClass:"modal-custom-css",componentProps:{pop_up_type:"self_d",title:t,msg:i,redirect:"/users/tabs/self-d-home",result:a}})).present()})}goBack(){this.router.navigateByUrl("/users/tabs/self-d-home")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(v.Z),e.\u0275\u0275directiveInject(x.e),e.\u0275\u0275directiveInject(o.ActionSheetController),e.\u0275\u0275directiveInject(S.V1),e.\u0275\u0275directiveInject(o.ModalController))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-self-d"]],decls:12,vars:2,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],["slot","end"],["style","margin:10px !important;",4,"ngIf"],["class","ion-no-border",4,"ngIf"],[2,"margin","10px !important"],[4,"ngIf"],[1,"fullheight","xc"],[2,"text-align","center !important","margin","24px !important"],[1,"parent"],[1,"contentDiv","clear"],[1,"font-size-content","lightFont",2,"text-align","center"],[2,"margin","20px"],["expand","block",2,"margin","10px","text-transform","capitalize",3,"click"],[1,"margin10"],["mode","md",3,"ionChange",4,"ngFor","ngForOf"],["mode","md",3,"ionChange"],[2,"padding-left","0px"],[1,"font-size-heading","lightFont","text-color-black"],[2,"display","flex","margin-left","20px"],["mode","md",2,"margin-top","8px","width","18px !important","height","18px !important",3,"value"],[1,"margin10","font-size-sub-heading","lightFont","text-color-black"],[1,"ion-no-border"],["expand","block",1,"buttonCssSD","font-size-button","fontButton",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return i.goBack()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-title",4),e.\u0275\u0275elementStart(6,"p",5),e.\u0275\u0275text(7,"Self Declaration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-buttons",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-content"),e.\u0275\u0275template(10,b,3,2,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,D,3,0,"ion-footer",8)),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",i.is_show),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.is_q_present))},directives:[o.IonHeader,o.IonToolbar,o.IonButtons,o.IonButton,o.IonIcon,o.IonTitle,o.IonContent,m.NgIf,o.IonList,m.NgForOf,o.IonRadioGroup,o.SelectValueAccessor,o.IonListHeader,o.IonLabel,o.IonRadio,o.RadioValueAccessor,o.IonFooter],styles:[".buttonCssSD[_ngcontent-%COMP%]{width:100%!important;height:40px!important;--background: var(--ion-color-primary) !important;bottom:0;--box-shadow: none !important;padding-left:8%;padding-right:8%;font-weight:500;font-stretch:normal;font-style:normal;line-height:.77;letter-spacing:.52px;text-align:center;color:#fff;margin-bottom:30px!important;--border-radius: 10px !important;--background-focused: var(--ion-color-primary) !important;--background-hover: var(--ion-color-primary) !important}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(P)],p.Bz]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[m.CommonModule,g.FormsModule,o.IonicModule,w]]}),n})()}}]);