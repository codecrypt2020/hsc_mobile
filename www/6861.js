"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[6861],{6861:(I,d,o)=>{o.r(d),o.d(d,{SelfDReportsPageModule:()=>M});var s=o(8583),m=o(665),a=o(7823),c=o(649),g=o(4762),h=o(3803),e=o(639),f=o(3037),u=o(4714);function S(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275elementStart(1,"p",9),e.\u0275\u0275text(2,"Self Declaration not submitted by "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," any user"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function D(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext(2).openSDResult(r)}),e.\u0275\u0275elementStart(1,"ion-row"),e.\u0275\u0275elementStart(2,"ion-col",13),e.\u0275\u0275elementStart(3,"ion-row"),e.\u0275\u0275elementStart(4,"ion-col",14),e.\u0275\u0275elementStart(5,"div",15),e.\u0275\u0275elementStart(6,"ion-label",16),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-col",17),e.\u0275\u0275element(9,"ion-icon",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-row"),e.\u0275\u0275elementStart(11,"ion-col",19),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"date"),e.\u0275\u0275pipe(14,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("Submitted By : ",t.emp_name,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2(" Submitted Date : ",e.\u0275\u0275pipeBind2(13,3,i.selectedStartDate,"MMM d, y"),"",e.\u0275\u0275pipeBind2(14,6,t.updated_at,"MMM d, y, h:mm:ss a")," ")}}function C(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,D,15,9,"div",11),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","true"==i.isIDNull(t.id))}}function v(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,C,2,1,"div",10),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.checklistSDUser)}}const x=[{path:"",component:(()=>{class n{constructor(t,i,r,p){this.appConstant=t,this.restApi=i,this.modalCtrl=r,this.router=p,this.checklist_id=0,this.d=new Date,this.todayDate=this.d.getFullYear()+"-"+(this.d.getMonth()+1)+"-"+this.d.getDate(),this.selectedStartDate=this.todayDate,this.showStart=0,this.datePickerObj={btnProperties:{color:"#000"},toDate:new Date,inputDate:new Date,titleLabel:"Select Date",clearButton:!1,dateFormat:"YYYY-MM-DD"},this.checklistSDUser=[],this.checklist=[],this.loadCheckList()}openDatePicker(){return(0,g.__awaiter)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:h.Fd,cssClass:"li-ionic4-datePicker",componentProps:{objConfig:this.datePickerObj,selectedDate:this.selectedStartDate}});yield t.present(),t.onDidDismiss().then(i=>{this.selectedStartDate="Invalid date"==i.data.date?this.todayDate:i.data.date,this.showStart=1,this.loadUsers()})})}ngOnInit(){}loadUsers(){if(!this.appConstant.isInternet)return null;this.checklistSDUser=[],this.restApi.getSDReportedUser({checklistId:this.checklist_id,date:this.selectedStartDate}).then(i=>{1==i.success&&(this.checklistSDUser=i.data)},i=>{this.appConstant.handleApiError(i)})}geListLength(){let t=!1;try{let i=0;this.checklistSDUser.forEach(r=>{"true"==this.isIDNull(r.id)&&i++}),t=0!=i}catch(i){t=!1}return t}isIDNull(t){return null==t?"false":"true"}openSDResult(t){this.router.navigate(["/self-ddetails",{id:this.checklist_id,userData:JSON.stringify(t),date:this.selectedStartDate}])}loadCheckList(){if(!this.appConstant.isInternet)return null;this.restApi.getCheckList({page:0,searchText:"",sortby:""}).then(i=>{1==i.success&&(this.checklist=i.data),this.checklist.forEach(r=>{"SD"==r.identifier&&(this.checklist_id=r.id)}),this.loadUsers()},i=>{this.appConstant.handleApiError(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f.Z),e.\u0275\u0275directiveInject(u.e),e.\u0275\u0275directiveInject(a.ModalController),e.\u0275\u0275directiveInject(c.F0))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-self-dreports"]],decls:15,vars:6,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],["slot","secondary",2,"padding-right","4px !important"],["slot","icon-only","name","calendar-outline",1,"TabBarIcon",3,"click"],[1,"marginLeft","p1","text-color-primary","font-size-sub-heading","headingFont","pClose",3,"click"],["style","margin: 40px !important;text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"margin","40px !important","text-align","center"],[1,"text-color-primary","font-size-heading","headingFont",2,"text-align","center !important","margin-top","50px !important"],[4,"ngFor","ngForOf"],["class","cardCss1",3,"click",4,"ngIf"],[1,"cardCss1",3,"click"],["size","12"],["size","10",1,"font-size-content","headingFont"],[2,"display","flex !important"],[2,"padding-top","2px !important"],["size","2",1,"end-align","font-size-content","headingFont","text-color-red"],["name","close-outline",1,"closeCSSIcon",2,"display","none !important"],[1,"font-size-content","headingFont","text-color-primary"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-title"),e.\u0275\u0275elementStart(4,"p",2),e.\u0275\u0275text(5,"Self Declaration Reports"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-buttons",3),e.\u0275\u0275elementStart(7,"ion-icon",4),e.\u0275\u0275listener("click",function(){return i.openDatePicker()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-title"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-content"),e.\u0275\u0275elementStart(10,"p",5),e.\u0275\u0275listener("click",function(){return i.openDatePicker()}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,S,5,0,"div",6),e.\u0275\u0275template(14,v,2,1,"div",7),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1(" Selected Date : ",e.\u0275\u0275pipeBind2(12,3,i.selectedStartDate,"MMM d, y")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i.geListLength()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.geListLength()))},directives:[a.IonHeader,a.IonToolbar,a.IonButtons,a.IonTitle,a.IonIcon,a.IonContent,s.NgIf,s.NgForOf,a.IonRow,a.IonCol,a.IonLabel],pipes:[s.DatePipe],styles:[".cardCss1[_ngcontent-%COMP%], .item-inner[_ngcontent-%COMP%]{border:1px solid #d4d4d4!important;background:#E5E9F2!important;border-radius:5px;margin:12px!important;padding:4px!important}.cardCss1[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%], .cardCss1[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label-ios[_ngcontent-%COMP%], .item-inner[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%], .item-inner[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label-ios[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.pClose[_ngcontent-%COMP%]{background:#FEF1F0!important;color:#ee6c6c!important;padding:5px 0 0;margin:0;text-align:center;height:30px}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(x)],c.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.CommonModule,m.FormsModule,a.IonicModule,P]]}),n})()}}]);