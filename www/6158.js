"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[6158],{6158:(P,p,a)=>{a.r(p),a.d(p,{LoginPageModule:()=>M});var c=a(8583),s=a(665),l=a(7823),g=a(649),e=a(639),u=a(4714),f=a(5857),h=a(3037);function S(t,r){1&t&&(e.\u0275\u0275elementStart(0,"p",31),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function v(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,S,2,0,"p",30),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const o=e.\u0275\u0275reference(12);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.form.controls.username.errors.required)}}function I(t,r){1&t&&(e.\u0275\u0275elementStart(0,"p",31),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function _(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,I,2,0,"p",30),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const o=e.\u0275\u0275reference(12);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.form.controls.password.errors.required)}}const C=[{path:"",component:(()=>{class t{constructor(o,n,i,d){this.restApi=o,this.router=n,this.authService=i,this.appConstant=d,this.login={username:"",password:""}}ngOnInit(){}userLogin(o){o.invalid?o.formDirective.submitted=!0:(this.appConstant.showLoading("Logging in. Please wait..."),this.restApi.nodeUserLogin(this.login).then(n=>{1==n.success?(this.appConstant.dismissLoading(),localStorage.setItem(this.appConstant.TAG_API_ACCESS_TOKEN,n.data.token),localStorage.setItem(this.appConstant.TAG_IS_USER_ROLE,n.data.type),this.loadUserProfile()):this.appConstant.toastMsg(n.message)},n=>{this.appConstant.dismissLoading(),"Invalid Credentials"==n.error.message&&this.appConstant.toastMsg("Sorry! Invalid Password"),"Oops! This user is not available"==n.error.message&&this.appConstant.toastMsg("Sorry! This email does not exists")}))}loadUserAccess(){this.restApi.getNodeUserAccess({}).then(n=>{localStorage.setItem("org_name",n.data[0].org_name)},n=>{this.appConstant.handleApiError(n)})}loadUserProfile(){this.restApi.loadUserDetails({}).then(n=>{this.loadUserAccess(),localStorage.setItem(this.appConstant.TAG_IS_USER_LOGIN,"1"),localStorage.setItem(this.appConstant.TAG_USER_DETAILS,JSON.stringify(n.data[0])),localStorage.setItem(this.appConstant.TAG_IS_USER_ID,n.data[0].id),localStorage.setItem(this.appConstant.TAG_IS_USER_ROLE,n.data[0].emp_type_ref_id),localStorage.setItem("oldCount","0"),this.saveOneSignalID(),this.router.navigateByUrl("/get-started")},n=>{})}saveOneSignalID(){let o={user_id:localStorage.getItem(this.appConstant.TAG_IS_USER_ID),player_id:localStorage.getItem("player_id")};this.restApi.nodeStorePlayerID(o).then(n=>{},n=>{})}}return t.\u0275fac=function(o){return new(o||t)(e.\u0275\u0275directiveInject(u.e),e.\u0275\u0275directiveInject(g.F0),e.\u0275\u0275directiveInject(f.s),e.\u0275\u0275directiveInject(h.Z))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-login"]],decls:36,vars:4,consts:[[1,"container"],[1,"center"],[1,"div-center",2,"height","25% !important"],["src","/assets/imgs/logo.png",2,"max-width","80% !important","margin-top","30px"],[1,"div-center",2,"height","60% !important","width","100% !important"],[2,"width","100% !important"],["src","/assets/imgs/factory.svg",2,"max-width","50% !important"],[2,"margin-top","40px"],[1,"font-size-heading","tabButtonFont","text-color-primary"],["mode","md","name","register","novalidate","","autocomplete","off",1,"mt-20",3,"ngSubmit"],["register","ngForm"],["mode","md"],["mode","md","position","floating",1,"font-size-input","tabButtonFont","text-color-gray"],["mode","md","autocomplete","off","type","email","placeholder","","name","username","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["username","ngModel"],["mode","md","name","mail-outline","slot","start",1,"inputIconCss"],["class","error-container",4,"ngIf"],["mode","md","position","floating",1,"font-size-heading","tabButtonFont","text-color-gray"],["autocomplete","off","mode","md","type","password","placeholder","","name","password","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["password","ngModel"],["name","lock-open-outline","mode","md","slot","start",1,"inputIconCss"],[1,"div-center",2,"height","15% !important"],["id","outer"],["id","inner"],["lines","none","detail","false"],["shape","round","fill","outline",1,"btn-getstarted","tabButtonFont","font-size-button",3,"click"],["lines","none","detail","false",1,"itemBG"],[1,"tabButtonFont","btn-label"],["name","arrow-forward-outline","slot","end",2,"font-size","16px !important","color","#E9CD00 !important"],[1,"error-container"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,n){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"img",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275element(7,"img",6),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"ion-label",8),e.\u0275\u0275text(10,"Please enter your credentials here"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"form",9,10),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(i);const m=e.\u0275\u0275reference(12);return n.userLogin(m)}),e.\u0275\u0275elementStart(13,"ion-item",11),e.\u0275\u0275elementStart(14,"ion-label",12),e.\u0275\u0275text(15,"Email ID / Mobile Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ion-input",13,14),e.\u0275\u0275listener("ngModelChange",function(m){return n.login.username=m}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ion-icon",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,v,2,1,"div",16),e.\u0275\u0275elementStart(20,"ion-item",11),e.\u0275\u0275elementStart(21,"ion-label",17),e.\u0275\u0275text(22,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"ion-input",18,19),e.\u0275\u0275listener("ngModelChange",function(m){return n.login.password=m}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"ion-icon",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,_,2,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",21),e.\u0275\u0275elementStart(28,"div",22),e.\u0275\u0275elementStart(29,"div",23),e.\u0275\u0275elementStart(30,"ion-item",24),e.\u0275\u0275elementStart(31,"ion-button",25),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(i),e.\u0275\u0275reference(12).ngSubmit.emit()}),e.\u0275\u0275elementStart(32,"ion-item",26),e.\u0275\u0275elementStart(33,"ion-label",27),e.\u0275\u0275text(34," Sign in "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(35,"ion-icon",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const i=e.\u0275\u0275reference(12);e.\u0275\u0275advance(16),e.\u0275\u0275property("ngModel",n.login.username),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.username.status),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.login.password),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.password.status)}},directives:[l.IonContent,l.IonLabel,s.\u0275angular_packages_forms_forms_ba,s.NgControlStatusGroup,s.NgForm,l.IonItem,l.IonInput,l.TextValueAccessor,s.RequiredValidator,s.NgControlStatus,s.NgModel,l.IonIcon,c.NgIf,l.IonButton],styles:["ion-content[_ngcontent-%COMP%]{background-size:cover}.list-ios[_ngcontent-%COMP%]{margin:15px 0 0!important;background:var(--ion-item-background, var(--ion-background-color, #fff))}.center[_ngcontent-%COMP%]{width:100%!important;height:100%!important;text-align:center!important;margin:0}.div-center[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;overflow-y:auto}.btn-label[_ngcontent-%COMP%]{text-align:start!important;color:#e9cd00!important}#inner[_ngcontent-%COMP%]{display:table;margin:0 auto;width:80%!important}#outer[_ngcontent-%COMP%]{width:100%}.btn-getstarted[_ngcontent-%COMP%]{width:100%!important;height:48px!important;--background: #f5f3e2 !important;--box-shadow: none !important;font-weight:500;font-stretch:normal;font-style:normal;line-height:.77;letter-spacing:.52px;text-align:center;color:#e9cd00!important;--border-radius: 25px !important;--border-color: #E9CD00 !important;--border-width: 1px !important}.itemBG[_ngcontent-%COMP%]{--background: transparent !important;width:100%!important}item-native[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.inputIconCss[_ngcontent-%COMP%]{--height: 90% !important;margin-top:12px!important;margin-inline-end:12px!important;color:#4c4c4c!important}"]}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[g.Bz.forChild(C)],g.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,s.FormsModule,l.IonicModule,E]]}),t})()}}]);