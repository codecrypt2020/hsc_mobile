"use strict";(self.webpackChunkhsc_mobile=self.webpackChunkhsc_mobile||[]).push([[3158],{3158:(R,u,d)=>{d.r(u),d.d(u,{UpdateProfilePageModule:()=>z});var c=d(8583),p=d(665),s=d(7823),f=d(649),e=d(639),g=d(4714),_=d(5857),P=d(3037),v=d(3056);function h(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function w(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,h,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(14);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.name.errors.required)}}function S(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function I(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,S,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(14);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.email.errors.required)}}function M(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function C(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,M,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(14);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.mobile.errors.required)}}function E(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function y(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275template(1,E,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(14);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.password.errors.required)}}function U(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"Type is required."),e.\u0275\u0275elementEnd())}function b(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275template(1,U,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(14);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.type.errors.required)}}function x(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"Old Password is required."),e.\u0275\u0275elementEnd())}function T(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,x,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(43);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.oldPassword.errors.required)}}function D(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function N(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,D,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(43);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.newPassword.errors.required)}}function A(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"Confirm Password is required."),e.\u0275\u0275elementEnd())}function L(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,A,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(43);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.confirmNewPassword.errors.required)}}function q(t,a){1&t&&(e.\u0275\u0275elementStart(0,"p",36),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function V(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,q,2,0,"p",35),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(43);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.form.controls.email.errors.required)}}const B=[{path:"",component:(()=>{class t{constructor(n,o,l,i,r,O){this.platform=n,this.restApi=o,this.router=l,this.authService=i,this.appConstant=r,this.updateData=O,this.userDetails={name:"",email:"",mobile:"",password:"",type:""},this.userPassword={confirmNewPassword:"",email:"",newPassword:"",oldPassword:""};let m=JSON.parse(localStorage.getItem(this.appConstant.TAG_USER_DETAILS));this.userDetails={name:m.emp_name,email:m.emp_email,mobile:m.emp_mobile,password:m.emp_id,type:this.appConstant.getUserType()},this.userPassword={confirmNewPassword:"",email:m.emp_email,newPassword:"",oldPassword:""},this.platform.backButton.subscribe(()=>{localStorage.setItem("dataUpdateProfile","1"),this.updateData.dataChangeState.next(!0),"user"==this.appConstant.getRoleById(localStorage.getItem(this.appConstant.TAG_IS_USER_ROLE))?this.router.navigateByUrl("/users/tabs/profile"):this.router.navigateByUrl("/admin/tabs/profile")})}ngOnInit(){}goBack(){localStorage.setItem("dataUpdateProfile","1"),this.updateData.dataChangeState.next(!0),"user"==this.appConstant.getRoleById(localStorage.getItem(this.appConstant.TAG_IS_USER_ROLE))?this.router.navigateByUrl("/users/tabs/profile"):this.router.navigateByUrl("/admin/tabs/profile")}userLogin(n){n.invalid?n.formDirective.submitted=!0:(this.appConstant.showLoading("Updating profile. Please wait..."),this.restApi.nodeUpdateEmpDetails(this.userDetails).then(o=>{this.appConstant.toastMsg("Profile updated successfully."),this.appConstant.dismissLoading()},o=>{this.appConstant.dismissLoading(),this.appConstant.handleApiError(o)}))}updatePassword(n){n.invalid?n.formDirective.submitted=!0:this.userPassword.newPassword==this.userPassword.confirmNewPassword?(this.appConstant.showLoading("Updating Password. Please wait..."),this.restApi.nodeUpdateEmpPWD(this.userPassword).then(o=>{this.appConstant.toastMsg(o.message),this.appConstant.dismissLoading()},o=>{this.appConstant.dismissLoading(),this.appConstant.handleApiError(o)})):this.appConstant.toastMsg("Password not matching.")}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(s.Platform),e.\u0275\u0275directiveInject(g.e),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(_.s),e.\u0275\u0275directiveInject(P.Z),e.\u0275\u0275directiveInject(v.X))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-update-profile"]],decls:64,vars:18,consts:[["mode","md",1,"ionToolbar"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back-outline",1,"TabBarIcon"],[2,"padding","0px !important"],[1,"margin10","text-color-primary","font-size1-heading","headingFont"],[2,"text-align","center"],["name","register","novalidate","","autocomplete","off",1,"ion-padding",3,"ngSubmit"],["register","ngForm"],["no-lines",""],["autocomplete","off","type","text","placeholder","User Name  ","name","name","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["name","ngModel"],["class","error-container",4,"ngIf"],["autocomplete","off","type","email","placeholder","Email ID  ","name","email","disabled","true","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["email","ngModel"],["autocomplete","off","type","text","placeholder","Mobile Number","name","mobile","disabled","true","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["mobile","ngModel"],[2,"display","none"],["autocomplete","off","type","password","placeholder","Password","name","password","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["password","ngModel"],["style","display: none;","class","error-container",4,"ngIf"],["autocomplete","off","type","text","placeholder","type","name","type","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["type","ngModel"],["class","error-container","style","display: none;",4,"ngIf"],[2,"padding-top","70px"],["expand","block",1,"btn_login","font-size-button","fontButton",2,"margin-bottom","0px !important",3,"click"],["name","chgpwd","novalidate","","autocomplete","off",1,"ion-padding",3,"ngSubmit"],["chgpwd","ngForm"],["autocomplete","off","type","text","placeholder","Old Password","name","oldPassword","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["oldPassword","ngModel"],["autocomplete","off","type","text","placeholder","New Password","name","newPassword","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["newPassword","ngModel"],["autocomplete","off","type","text","placeholder","Confirm Password","name","confirmNewPassword","required","",1,"font-size-input","textfont",3,"ngModel","ngModelChange"],["confirmNewPassword","ngModel"],[1,"error-container"],["class","error",4,"ngIf"],[1,"error"],[1,"error-container",2,"display","none"]],template:function(n,o){if(1&n){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-header"),e.\u0275\u0275elementStart(1,"ion-toolbar",0),e.\u0275\u0275elementStart(2,"ion-buttons",1),e.\u0275\u0275elementStart(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return o.goBack()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-title",4),e.\u0275\u0275elementStart(6,"p",5),e.\u0275\u0275text(7,"Update Profile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-title"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-content"),e.\u0275\u0275elementStart(10,"div"),e.\u0275\u0275elementStart(11,"div",6),e.\u0275\u0275elementStart(12,"div"),e.\u0275\u0275elementStart(13,"form",7,8),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(l);const r=e.\u0275\u0275reference(14);return o.userLogin(r)}),e.\u0275\u0275elementStart(15,"ion-list",9),e.\u0275\u0275elementStart(16,"ion-item"),e.\u0275\u0275elementStart(17,"ion-input",10,11),e.\u0275\u0275listener("ngModelChange",function(r){return o.userDetails.name=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,w,2,1,"div",12),e.\u0275\u0275elementStart(20,"ion-item"),e.\u0275\u0275elementStart(21,"ion-input",13,14),e.\u0275\u0275listener("ngModelChange",function(r){return o.userDetails.email=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,I,2,1,"div",12),e.\u0275\u0275elementStart(24,"ion-item"),e.\u0275\u0275elementStart(25,"ion-input",15,16),e.\u0275\u0275listener("ngModelChange",function(r){return o.userDetails.mobile=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,C,2,1,"div",12),e.\u0275\u0275elementStart(28,"ion-item",17),e.\u0275\u0275elementStart(29,"ion-input",18,19),e.\u0275\u0275listener("ngModelChange",function(r){return o.userDetails.password=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,y,2,1,"div",20),e.\u0275\u0275elementStart(32,"ion-item",17),e.\u0275\u0275elementStart(33,"ion-input",21,22),e.\u0275\u0275listener("ngModelChange",function(r){return o.userDetails.type=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,b,2,1,"div",23),e.\u0275\u0275elementStart(36,"div",24),e.\u0275\u0275elementStart(37,"ion-button",25),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(l),e.\u0275\u0275reference(14).ngSubmit.emit()}),e.\u0275\u0275text(38,"UPDATE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div"),e.\u0275\u0275elementStart(40,"div",6),e.\u0275\u0275elementStart(41,"div"),e.\u0275\u0275elementStart(42,"form",26,27),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(l);const r=e.\u0275\u0275reference(43);return o.updatePassword(r)}),e.\u0275\u0275elementStart(44,"ion-list",9),e.\u0275\u0275elementStart(45,"ion-item"),e.\u0275\u0275elementStart(46,"ion-input",28,29),e.\u0275\u0275listener("ngModelChange",function(r){return o.userPassword.oldPassword=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,T,2,1,"div",12),e.\u0275\u0275elementStart(49,"ion-item"),e.\u0275\u0275elementStart(50,"ion-input",30,31),e.\u0275\u0275listener("ngModelChange",function(r){return o.userPassword.newPassword=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,N,2,1,"div",12),e.\u0275\u0275elementStart(53,"ion-item"),e.\u0275\u0275elementStart(54,"ion-input",32,33),e.\u0275\u0275listener("ngModelChange",function(r){return o.userPassword.confirmNewPassword=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(56,L,2,1,"div",12),e.\u0275\u0275elementStart(57,"ion-item",17),e.\u0275\u0275elementStart(58,"ion-input",13,14),e.\u0275\u0275listener("ngModelChange",function(r){return o.userPassword.email=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(60,V,2,1,"div",12),e.\u0275\u0275elementStart(61,"div",24),e.\u0275\u0275elementStart(62,"ion-button",25),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(l),e.\u0275\u0275reference(43).ngSubmit.emit()}),e.\u0275\u0275text(63,"UPDATE PASSWORD"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const l=e.\u0275\u0275reference(14),i=e.\u0275\u0275reference(43);e.\u0275\u0275advance(17),e.\u0275\u0275property("ngModel",o.userDetails.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.submitted&&"INVALID"==l.form.controls.name.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userDetails.email),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.submitted&&"INVALID"==l.form.controls.email.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userDetails.mobile),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.submitted&&"INVALID"==l.form.controls.mobile.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userDetails.password),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.submitted&&"INVALID"==l.form.controls.password.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userDetails.type),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.submitted&&"INVALID"==l.form.controls.type.status),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngModel",o.userPassword.oldPassword),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.oldPassword.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userPassword.newPassword),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.newPassword.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userPassword.confirmNewPassword),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.confirmNewPassword.status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.userPassword.email),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&"INVALID"==i.form.controls.email.status)}},directives:[s.IonHeader,s.IonToolbar,s.IonButtons,s.IonButton,s.IonIcon,s.IonTitle,s.IonContent,p.\u0275angular_packages_forms_forms_ba,p.NgControlStatusGroup,p.NgForm,s.IonList,s.IonItem,s.IonInput,s.TextValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,c.NgIf],styles:[".container_login[_ngcontent-%COMP%]{padding:0%;position:relative;top:0;left:0;bottom:0;right:0}.list-ios[_ngcontent-%COMP%]{margin:15px 0 0!important;background:var(--ion-item-background, var(--ion-background-color, #fff))}.center[_ngcontent-%COMP%]{text-align:center;width:100%}.center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;display:inline-block;vertical-align:middle}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.Bz.forChild(B)],f.Bz]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,p.FormsModule,s.IonicModule,k]]}),t})()}}]);